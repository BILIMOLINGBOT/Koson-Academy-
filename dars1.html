<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <title>1-Dars: Kirish va asosiy tushunchalar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- PWA style -->
  <meta name="theme-color" content="#4da3e2">
  <meta name="apple-mobile-web-app-capable" content="yes">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f7fa;
      color: #333;
      min-height: 100vh;
    }
    
    /* Navigation Bar */
    .nav-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: white;
      padding: 15px 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      z-index: 100;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .nav-title {
      font-size: 20px;
      font-weight: 600;
      color: #4da3e2;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .nav-stats {
      display: flex;
      gap: 15px;
      font-size: 16px;
    }
    
    /* Main Container */
    .container {
      max-width: 800px;
      margin: 80px auto 20px;
      padding: 0 20px;
    }
    
    /* Progress Steps */
    .steps-container {
      display: flex;
      justify-content: space-between;
      margin-bottom: 30px;
      position: relative;
      padding: 0 10px;
    }
    
    .steps-container::before {
      content: '';
      position: absolute;
      top: 25px;
      left: 50px;
      right: 50px;
      height: 3px;
      background: #e0e0e0;
      z-index: 1;
    }
    
    .step {
      text-align: center;
      z-index: 2;
      position: relative;
      width: 120px;
    }
    
    .step-circle {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: #e0e0e0;
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 10px;
      font-weight: bold;
      font-size: 20px;
      transition: all 0.3s ease;
    }
    
    .step.active .step-circle {
      background: #4da3e2;
      transform: scale(1.1);
    }
    
    .step.completed .step-circle {
      background: #2ecc71;
    }
    
    .step.completed .step-circle::after {
      content: 'âœ“';
    }
    
    .step-title {
      font-size: 14px;
      color: #666;
      font-weight: 500;
    }
    
    .step.active .step-title {
      color: #4da3e2;
      font-weight: 600;
    }
    
    /* Sections */
    .section {
      display: none;
      background: white;
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.08);
      margin-bottom: 30px;
      animation: fadeIn 0.5s ease;
    }
    
    .section.active {
      display: block;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 2px solid #f0f0f0;
    }
    
    .section-title {
      font-size: 24px;
      color: #333;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .section-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 18px;
    }
    
    .test-icon { background: #ff6b6b; }
    .video-icon { background: #4ecdc4; }
    .quiz-icon { background: #ffe66d; color: #333; }
    .final-icon { background: #9b5de5; }
    
    .section-progress {
      font-size: 14px;
      color: #666;
      background: #f8f9fa;
      padding: 5px 15px;
      border-radius: 20px;
    }
    
    /* Test Section */
    .question-container {
      margin-bottom: 30px;
    }
    
    .question {
      font-size: 18px;
      margin-bottom: 20px;
      line-height: 1.5;
      color: #333;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 10px;
    }
    
    .options {
      display: grid;
      gap: 10px;
    }
    
    .option {
      padding: 15px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .option:hover {
      background: #f0f7ff;
      border-color: #4da3e2;
    }
    
    .option.selected {
      background: #e3f2fd;
      border-color: #2196f3;
    }
    
    .option.correct {
      background: #e8f5e9;
      border-color: #4caf50;
    }
    
    .option.incorrect {
      background: #ffebee;
      border-color: #f44336;
    }
    
    .option-letter {
      width: 30px;
      height: 30px;
      border-radius: 50%;
      background: #e0e0e0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: #666;
    }
    
    .option.selected .option-letter {
      background: #2196f3;
      color: white;
    }
    
    /* Video Section */
    .video-container {
      position: relative;
      padding-bottom: 56.25%;
      height: 0;
      margin-bottom: 20px;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .video-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
    
    .video-info {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 10px;
      margin-top: 20px;
    }
    
    .video-info h4 {
      margin-bottom: 10px;
      color: #333;
    }
    
    .video-info ul {
      margin-left: 20px;
      color: #666;
    }
    
    .video-info li {
      margin-bottom: 5px;
    }
    
    /* Controls */
    .controls {
      display: flex;
      justify-content: space-between;
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #eee;
    }
    
    .control-btn {
      padding: 12px 25px;
      border: none;
      border-radius: 50px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 10px;
      transition: all 0.3s ease;
    }
    
    .btn-prev {
      background: #f8f9fa;
      color: #666;
    }
    
    .btn-prev:hover {
      background: #e9ecef;
    }
    
    .btn-next {
      background: #4da3e2;
      color: white;
    }
    
    .btn-next:hover {
      background: #3b82f6;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
    }
    
    .btn-complete {
      background: #2ecc71;
      color: white;
    }
    
    .btn-complete:hover {
      background: #27ae60;
    }
    
    .btn-disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .btn-disabled:hover {
      transform: none;
      background: #4da3e2;
    }
    
    /* Completion Screen */
    .completion-screen {
      text-align: center;
      padding: 50px 20px;
    }
    
    .completion-icon {
      width: 100px;
      height: 100px;
      background: #2ecc71;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 30px;
      font-size: 40px;
      color: white;
      animation: bounce 1s ease infinite alternate;
    }
    
    @keyframes bounce {
      from { transform: translateY(0); }
      to { transform: translateY(-10px); }
    }
    
    .completion-title {
      font-size: 32px;
      color: #333;
      margin-bottom: 15px;
    }
    
    .completion-message {
      color: #666;
      font-size: 18px;
      margin-bottom: 30px;
      line-height: 1.6;
    }
    
    .completion-stats {
      display: flex;
      justify-content: center;
      gap: 30px;
      margin-bottom: 40px;
    }
    
    .stat-item {
      text-align: center;
    }
    
    .stat-value {
      font-size: 32px;
      font-weight: bold;
      color: #4da3e2;
      margin-bottom: 5px;
    }
    
    .stat-label {
      color: #666;
      font-size: 14px;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .steps-container {
        flex-direction: column;
        align-items: center;
        gap: 20px;
      }
      
      .steps-container::before {
        display: none;
      }
      
      .step {
        width: 100%;
        display: flex;
        align-items: center;
        gap: 15px;
      }
      
      .step-circle {
        margin: 0;
        width: 40px;
        height: 40px;
        font-size: 16px;
      }
      
      .section {
        padding: 20px;
      }
      
      .controls {
        flex-direction: column;
        gap: 15px;
      }
      
      .control-btn {
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  
  <!-- Navigation Bar -->
  <div class="nav-bar">
    <div class="nav-title">
      <i class="fas fa-book"></i>
      1-Dars: Kirish
    </div>
    <div class="nav-stats">
      <span><i class="fas fa-fire" style="color: #ff6b6b;"></i> 20</span>
      <span><i class="fas fa-coins" style="color: #ffe66d;"></i> 33</span>
    </div>
  </div>
  
  <!-- Main Container -->
  <div class="container">
    
    <!-- Progress Steps -->
    <div class="steps-container">
      <div class="step active" data-step="1">
        <div class="step-circle">1</div>
        <div class="step-title">Test</div>
      </div>
      <div class="step" data-step="2">
        <div class="step-circle">2</div>
        <div class="step-title">Video Dars</div>
      </div>
      <div class="step" data-step="3">
        <div class="step-circle">3</div>
        <div class="step-title">Video Test</div>
      </div>
      <div class="step" data-step="4">
        <div class="step-circle">4</div>
        <div class="step-title">Yakuniy</div>
      </div>
    </div>
    
    <!-- Section 1: Test -->
    <div class="section active" id="section-1">
      <div class="section-header">
        <div class="section-title">
          <div class="section-icon test-icon">
            <i class="fas fa-clipboard-check"></i>
          </div>
          <span>Bilim Testi</span>
        </div>
        <div class="section-progress">5 ta savol</div>
      </div>
      
      <div id="test-content">
        <!-- Test questions will be loaded here -->
      </div>
      
      <div class="controls">
        <button class="control-btn btn-prev" onclick="previousSection()" disabled>
          <i class="fas fa-arrow-left"></i>
          Oldingisi
        </button>
        <button class="control-btn btn-next" onclick="checkTest()">
          Testni Yakunlash
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
    
    <!-- Section 2: Video -->
    <div class="section" id="section-2">
      <div class="section-header">
        <div class="section-title">
          <div class="section-icon video-icon">
            <i class="fas fa-play-circle"></i>
          </div>
          <span>Video Dars</span>
        </div>
        <div class="section-progress">15 daqiqa</div>
      </div>
      
      <div class="video-container">
        <iframe src="https://www.youtube.com/embed/rfscVS0vtbw" 
                title="Dasturlash asoslari" 
                frameborder="0" 
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                allowfullscreen>
        </iframe>
      </div>
      
      <div class="video-info">
        <h4><i class="fas fa-info-circle"></i> Video mazmuni:</h4>
        <ul>
          <li>Dasturlash nima va nega muhim?</li>
          <li>Dasturlash tillarining turlari</li>
          <li>Birinchi dastur yozish (Hello World)</li>
          <li>Algoritm va dastur tushunchalari</li>
          <li>Dasturchi bo'lish uchun kerak bo'ladigan malakalar</li>
        </ul>
      </div>
      
      <div class="controls">
        <button class="control-btn btn-prev" onclick="previousSection()">
          <i class="fas fa-arrow-left"></i>
          Testga qaytish
        </button>
        <button class="control-btn btn-next" onclick="completeVideo()">
          Videoni Ko'rdim
          <i class="fas fa-check-circle"></i>
        </button>
      </div>
    </div>
    
    <!-- Section 3: Video Test -->
    <div class="section" id="section-3">
      <div class="section-header">
        <div class="section-title">
          <div class="section-icon quiz-icon">
            <i class="fas fa-question-circle"></i>
          </div>
          <span>Video Testi</span>
        </div>
        <div class="section-progress">3 ta savol</div>
      </div>
      
      <div id="video-test-content">
        <!-- Video test questions will be loaded here -->
      </div>
      
      <div class="controls">
        <button class="control-btn btn-prev" onclick="previousSection()">
          <i class="fas fa-arrow-left"></i>
          Videoga qaytish
        </button>
        <button class="control-btn btn-next" onclick="checkVideoTest()">
          Testni Yakunlash
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>
    
    <!-- Section 4: Completion -->
    <div class="section" id="section-4">
      <div class="completion-screen">
        <div class="completion-icon">
          <i class="fas fa-trophy"></i>
        </div>
        <h1 class="completion-title">Tabriklaymiz!</h1>
        <p class="completion-message">
          1-darsni muvaffaqiyatli yakunladingiz!<br>
          O'rgangan bilimlaringizni amaliyotda qo'llash vaqtidir.
        </p>
        
        <div class="completion-stats">
          <div class="stat-item">
            <div class="stat-value" id="final-score">0%</div>
            <div class="stat-label">Umumiy ball</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="time-spent">0</div>
            <div class="stat-label">Daqiqa</div>
          </div>
          <div class="stat-item">
            <div class="stat-value">+10</div>
            <div class="stat-label">Ball qo'shildi</div>
          </div>
        </div>
        
        <div class="controls">
          <button class="control-btn btn-prev" onclick="previousSection()">
            <i class="fas fa-arrow-left"></i>
            Video testga qaytish
          </button>
          <button class="control-btn btn-complete" onclick="completeLesson()">
            Darsni Yakunlash
            <i class="fas fa-check-circle"></i>
          </button>
        </div>
      </div>
    </div>
    
  </div>
  
  <script>
    // Lesson state
    const lessonState = {
      currentSection: 1,
      testCompleted: false,
      videoCompleted: false,
      videoTestCompleted: false,
      testScore: 0,
      videoTestScore: 0,
      startTime: new Date()
    };
    
    // Test questions
    const testQuestions = [
      {
        question: "Dasturlash nima?",
        options: [
          "Kompyuter uchun dastur yozish",
          "Veb-sayt yaratish",
          "Kompyuter qismlarini yig'ish",
          "Internetdan foydalanish"
        ],
        correct: 0
      },
      {
        question: "Qaysi biri dasturlash tili emas?",
        options: ["Python", "JavaScript", "HTML", "Java"],
        correct: 2
      },
      {
        question: "Dastur yozishning birinchi qadimi nima?",
        options: [
          "Muammoni tushunish",
          "Kod yozish",
          "Dasturni ishga tushirish",
          "Xatolarni tuzatish"
        ],
        correct: 0
      },
      {
        question: "Algoritm nima?",
        options: [
          "Muammoni hal qilish tartibi",
          "Dastur nomi",
          "Kompyuter modeli",
          "Dasturiy ta'minot"
        ],
        correct: 0
      },
      {
        question: "Qaysi biri dasturlashning afzalliklaridan emas?",
        options: [
          "Mantiqiy fikrlashni rivojlantirish",
          "Muammolarni hal qilish ko'nikmasi",
          "Ko'proq pul ishlash",
          "Ijodkorlikni oshirish"
        ],
        correct: 2
      }
    ];
    
    // Video test questions
    const videoTestQuestions = [
      {
        question: "Videoda ko'rsatilgan birinchi dastur qanday natija chiqardi?",
        options: [
          "Hello World",
          "Salom Dunyo",
          "Birinchi dastur",
          "Python code"
        ],
        correct: 0
      },
      {
        question: "Videoda qaysi dasturlash tili ko'rsatilgan?",
        options: ["Python", "JavaScript", "C++", "PHP"],
        correct: 0
      },
      {
        question: "Dasturlashni o'rganish qancha vaqt talab qiladi?",
        options: [
          "Doimiy o'rganish kerak",
          "Bir oy",
          "Bir yil",
          "Ikki hafta"
        ],
        correct: 0
      }
    ];
    
    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      loadTestQuestions();
      updateSteps();
      
      // Start timer
      lessonState.startTime = new Date();
    });
    
    // Load test questions
    function loadTestQuestions() {
      const testContent = document.getElementById('test-content');
      let html = '';
      
      testQuestions.forEach((q, index) => {
        html += `
          <div class="question-container" data-question="${index}">
            <div class="question">
              <strong>${index + 1}.</strong> ${q.question}
            </div>
            <div class="options">
        `;
        
        const letters = ['A', 'B', 'C', 'D'];
        q.options.forEach((option, optIndex) => {
          html += `
            <div class="option" onclick="selectAnswer(${index}, ${optIndex})">
              <div class="option-letter">${letters[optIndex]}</div>
              <span>${option}</span>
            </div>
          `;
        });
        
        html += `</div></div>`;
      });
      
      testContent.innerHTML = html;
    }
    
     
    // Load video test questions
    function loadVideoTestQuestions() {
      const videoTestContent = document.getElementById('video-test-content');
      let html = '';
      
      videoTestQuestions.forEach((q, index) => {
        html += `
          <div class="question-container" data-question="${index}">
            <div class="question">
              <strong>${index + 1}.</strong> ${q.question}
            </div>
            <div class="options">
        `;
        
        const letters = ['A', 'B', 'C', 'D'];
        q.options.forEach((option, optIndex) => {
          html += `
            <div class="option" onclick="selectVideoTestAnswer(${index}, ${optIndex})">
              <div class="option-letter">${letters[optIndex]}</div>
              <span>${option}</span>
            </div>
          `;
        });
        
        html += `</div></div>`;
      });
      
      videoTestContent.innerHTML = html;
    }
    
    // Select answer in test
    function selectAnswer(questionIndex, optionIndex) {
      const question = document.querySelector(`[data-question="${questionIndex}"]`);
      const options = question.querySelectorAll('.option');
      
      options.forEach(opt => opt.classList.remove('selected'));
      options[optionIndex].classList.add('selected');
      
      testQuestions[questionIndex].selected = optionIndex;
    }
    
    // Select answer in video test
    function selectVideoTestAnswer(questionIndex, optionIndex) {
      const question = document.querySelector(`[data-question="${questionIndex}"]`);
      const options = question.querySelectorAll('.option');
      
      options.forEach(opt => opt.classList.remove('selected'));
      options[optionIndex].classList.add('selected');
      
      videoTestQuestions[questionIndex].selected = optionIndex;
    }
    
    // Check test results
    function checkTest() {
      let correctCount = 0;
      
      testQuestions.forEach((q, index) => {
        const question = document.querySelector(`[data-question="${index}"]`);
        const options = question.querySelectorAll('.option');
        
        if (q.selected !== undefined) {
          options.forEach((opt, optIndex) => {
            if (optIndex === q.correct) {
              opt.classList.add('correct');
            }
            if (optIndex === q.selected && optIndex !== q.correct) {
              opt.classList.add('incorrect');
            }
          });
          
          if (q.selected === q.correct) {
            correctCount++;
          }
        }
      });
      
      const percentage = Math.round((correctCount / testQuestions.length) * 100);
      
      if (percentage >= 60) {
        lessonState.testScore = percentage;
        lessonState.testCompleted = true;
        
        setTimeout(() => {
          alert(`Test muvaffaqiyatli! ${percentage}% to'g'ri javob.`);
          nextSection();
        }, 500);
      } else {
        alert(`Testdan o'tolmadingiz. ${percentage}% to'g'ri javob. Kamida 60% kerak.`);
      }
    }
    
    // Complete video section
    function completeVideo() {
      lessonState.videoCompleted = true;
      loadVideoTestQuestions();
      nextSection();
    }
    
    // Check video test results
    function checkVideoTest() {
      let correctCount = 0;
      
      videoTestQuestions.forEach((q, index) => {
        const question = document.querySelector(`[data-question="${index}"]`);
        const options = question.querySelectorAll('.option');
        
        if (q.selected !== undefined) {
          options.forEach((opt, optIndex) => {
            if (optIndex === q.correct) {
              opt.classList.add('correct');
            }
            if (optIndex === q.selected && optIndex !== q.correct) {
              opt.classList.add('incorrect');
            }
          });
          
          if (q.selected === q.correct) {
            correctCount++;
          }
        }
      });
      
      const percentage = Math.round((correctCount / videoTestQuestions.length) * 100);
      
      if (percentage >= 60) {
        lessonState.videoTestScore = percentage;
        lessonState.videoTestCompleted = true;
        
        // Calculate final score
        const finalScore = Math.round((lessonState.testScore + lessonState.videoTestScore) / 2);
        document.getElementById('final-score').textContent = `${finalScore}%`;
        
        // Calculate time spent
        const timeSpent = Math.round((new Date() - lessonState.startTime) / 60000);
        document.getElementById('time-spent').textContent = timeSpent;
        
        setTimeout(() => {
          alert(`Video test muvaffaqiyatli! ${percentage}% to'g'ri javob.`);
          nextSection();
        }, 500);
      } else {
        alert(`Video testdan o'tolmadingiz. ${percentage}% to'g'ri javob. Kamida 60% kerak.`);
      }
    }
    
    // Complete lesson
    function completeLesson() {
      alert('1-dars muvaffaqiyatli yakunlandi! Keyingi darsga o\'tish...');
      // In real app, save progress and redirect to lessons list
      window.location.href = 'index.html';
    }
    
    // Navigation functions
    function nextSection() {
      if (lessonState.currentSection < 4) {
        // Update step status
        const currentStep = document.querySelector(`.step[data-step="${lessonState.currentSection}"]`);
        currentStep.classList.remove('active');
        currentStep.classList.add('completed');
        
        lessonState.currentSection++;
        
        // Show next step
        const nextStep = document.querySelector(`.step[data-step="${lessonState.currentSection}"]`);
        nextStep.classList.add('active');
        
        // Show next section
        document.querySelectorAll('.section').forEach(section => {
          section.classList.remove('active');
        });
        document.getElementById(`section-${lessonState.currentSection}`).classList.add('active');
        
        // Update controls
        updateControls();
      }
    }
    
    function previousSection() {
      if (lessonState.currentSection > 1) {
        // Update step status
        const currentStep = document.querySelector(`.step[data-step="${lessonState.currentSection}"]`);
        currentStep.classList.remove('active');
        
        lessonState.currentSection--;
        
        // Show previous step (remove completed class if going back)
        const prevStep = document.querySelector(`.step[data-step="${lessonState.currentSection}"]`);
        prevStep.classList.add('active');
        prevStep.classList.remove('completed');
        
        // Show previous section
        document.querySelectorAll('.section').forEach(section => {
          section.classList.remove('active');
        });
        document.getElementById(`section-${lessonState.currentSection}`).classList.add('active');
        
        // Update controls
        updateControls();
      }
    }
    
    function updateSteps() {
      document.querySelectorAll('.step').forEach((step, index) => {
        const stepNum = parseInt(step.dataset.step);
        if (stepNum < lessonState.currentSection) {
          step.classList.add('completed');
          step.classList.remove('active');
        } else if (stepNum === lessonState.currentSection) {
          step.classList.add('active');
          step.classList.remove('completed');
        } else {
          step.classList.remove('active', 'completed');
        }
      });
    }
    
    function updateControls() {
      const prevBtn = document.querySelector('.btn-prev');
      if (lessonState.currentSection === 1) {
        prevBtn.disabled = true;
      } else {
        prevBtn.disabled = false;
      }
    }
  </script>
  
</body>
</html>