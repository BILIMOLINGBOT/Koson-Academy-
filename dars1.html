<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Word Order Test</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #ffffff;
      color: #000;
      margin: 0;
      padding: 20px;
    }
    .question {
      margin-bottom: 20px;
    }
    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 10px;
    }
    .chip {
      background-color: #007bff;
      color: white;
      padding: 10px 15px;
      border-radius: 20px;
      cursor: pointer;
      transition: transform 0.1s ease-in-out;
    }
    .chip:hover {
      transform: scale(1.05);
    }
    .selected-words {
      margin-bottom: 15px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      min-height: 40px;
    }
    .selected-chip {
      background-color: #28a745;
      color: white;
      padding: 10px 15px;
      border-radius: 20px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background-color: #007bff;
      color: white;
      cursor: pointer;
    }
    button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
    #progress {
      margin-bottom: 20px;
    }
    #feedbackModal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      border: 2px solid #007bff;
      border-radius: 10px;
      padding: 20px;
      display: none;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <div id="progress">Savol: <span id="current">1</span>/20 | Ball: <span id="score">0</span></div>
  <div class="question">
    <div class="selected-words" id="selected"></div>
    <div class="chips" id="options"></div>
    <button id="checkBtn" disabled onclick="checkAnswer()">Tekshirish</button>
  </div>
  <div id="feedbackModal"></div>
  <script>
    const questions = [
      { correct: "They are your friend", words: ["your", "are", "friend", "They"] },
      { correct: "They are a teacher", words: ["a", "teacher", "They", "are"] },
      { correct: "He is tired", words: ["is", "tired", "He"] },
      { correct: "You are a doctor", words: ["You", "a", "are", "doctor"] },
      { correct: "I am ready", words: ["ready", "I", "am"] },
      { correct: "You are happy", words: ["are", "You", "happy"] },
      { correct: "He is a doctor", words: ["doctor", "a", "is", "He"] },
      { correct: "They are tired", words: ["tired", "are", "They"] },
      { correct: "She is in the park", words: ["in", "park", "the", "She", "is"] },
      { correct: "They are a student", words: ["student", "They", "a", "are"] },
      { correct: "You are your friend", words: ["friend", "are", "your", "You"] },
      { correct: "He is a doctor", words: ["doctor", "is", "He", "a"] },
      { correct: "You are at home", words: ["home", "at", "are", "You"] },
      { correct: "You are a doctor", words: ["a", "You", "doctor", "are"] },
      { correct: "He is from Uzbekistan", words: ["Uzbekistan", "is", "He", "from"] },
      { correct: "She is your friend", words: ["friend", "your", "She", "is"] },
      { correct: "She is a teacher", words: ["teacher", "a", "is", "She"] },
      { correct: "She is from Uzbekistan", words: ["from", "is", "She", "Uzbekistan"] },
      { correct: "I am a student", words: ["a", "student", "am", "I"] },
      { correct: "They are ready", words: ["ready", "are", "They"] }
    ];let current = 0;
let score = 0;
const currentDisplay = document.getElementById("current");
const scoreDisplay = document.getElementById("score");
const selected = document.getElementById("selected");
const options = document.getElementById("options");
const checkBtn = document.getElementById("checkBtn");
const feedbackModal = document.getElementById("feedbackModal");

let selectedWords = [];

function shuffle(arr) {
  return arr.sort(() => Math.random() - 0.5);
}

function loadQuestion() {
  selectedWords = [];
  selected.innerHTML = "";
  options.innerHTML = "";
  checkBtn.disabled = true;

  const q = questions[current];
  const shuffled = shuffle([...q.words]);
  shuffled.forEach(word => {
    const chip = document.createElement("div");
    chip.className = "chip";
    chip.textContent = word;
    chip.onclick = () => selectWord(word, chip);
    options.appendChild(chip);
  });
}

function selectWord(word, chip) {
  if (selectedWords.includes(word)) return;
  selectedWords.push(word);
  const selectedChip = document.createElement("div");
  selectedChip.className = "selected-chip";
  selectedChip.textContent = word;
  selectedChip.onclick = () => {
    selectedWords = selectedWords.filter(w => w !== word);
    selectedChip.remove();
    checkBtn.disabled = selectedWords.length !== questions[current].words.length;
  };
  selected.appendChild(selectedChip);
  checkBtn.disabled = selectedWords.length !== questions[current].words.length;
}

function checkAnswer() {
  const correct = questions[current].correct;
  const userAnswer = selectedWords.join(" ");
  const isCorrect = userAnswer === correct;
  if (isCorrect) score++;
  feedbackModal.innerHTML = isCorrect ? "<b>To'g'ri!</b>" : `<b>Noto'g'ri:</b><br>To'g'ri javob: ${correct}`;
  feedbackModal.style.display = "block";
  setTimeout(() => {
    feedbackModal.style.display = "none";
    nextQuestion();
  }, 2000);
}

function nextQuestion() {
  current++;
  currentDisplay.textContent = current + 1;
  scoreDisplay.textContent = score;
  if (current < questions.length) {
    loadQuestion();
  } else {
    document.body.innerHTML = `<h2>Test tugadi!</h2><p>Umumiy ball: ${score}/20</p><button onclick='location.reload()'>Qayta boshlash</button>`;
  }
}

loadQuestion();

  </script>
</body>
</html>