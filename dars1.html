<!DOCTYPE html><html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>So'z tartibini toping</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
      color: #333;
    }
    header {
      padding: 15px;
      text-align: center;
      background: #007bff;
      color: white;
      font-size: 20px;
    }
    .progress-bar {
      width: 100%;
      background: #ddd;
      height: 8px;
    }
    .progress {
      height: 8px;
      background: #007bff;
      width: 0%;
      transition: width 0.3s;
    }
    .container {
      max-width: 600px;
      margin: 30px auto;
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    .word-bank, .answer-area {
      display: flex;
      flex-wrap: wrap;
      margin-bottom: 20px;
      min-height: 50px;
    }
    .word {
      background: #e0e0e0;
      border-radius: 20px;
      padding: 10px 15px;
      margin: 5px;
      cursor: pointer;
      user-select: none;
    }
    .word.selected {
      background: #007bff;
      color: white;
    }
    .buttons {
      text-align: center;
    }
    .buttons button {
      background: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      margin: 10px;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    .buttons button:disabled {
      background: #aaa;
    }
    .result-area {
      text-align: center;
      font-size: 20px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <header>So'zlarni tartibga soling</header>
  <div class="progress-bar"><div class="progress" id="progress"></div></div>
  <div class="container">
    <div id="question"></div>
    <h4>Tanlang:</h4>
    <div class="word-bank" id="wordBank"></div>
    <h4>Javob:</h4>
    <div class="answer-area" id="answerArea"></div>
    <div class="buttons">
      <button id="checkBtn" disabled>Tekshirish</button>
    </div>
    <div class="result-area" id="resultArea"></div>
  </div>  <script>
    const questions = [
      { words: ["am", "I", "a", "teacher"], correct: "I am a teacher" },
      { words: ["happy", "are", "you"], correct: "You are happy" },
      { words: ["student", "is", "She", "a"], correct: "She is a student" },
      { words: ["We", "are", "friends"], correct: "We are friends" },
      { words: ["They", "are", "doctors"], correct: "They are doctors" }
    ];

    let current = 0;
    let score = 0;

    const question = document.getElementById("question");
    const wordBank = document.getElementById("wordBank");
    const answerArea = document.getElementById("answerArea");
    const checkBtn = document.getElementById("checkBtn");
    const resultArea = document.getElementById("resultArea");
    const progress = document.getElementById("progress");

    function renderQuestion() {
      const q = questions[current];
      question.textContent = `Savol ${current + 1} / ${questions.length}`;
      wordBank.innerHTML = "";
      answerArea.innerHTML = "";
      resultArea.textContent = "";
      checkBtn.disabled = true;
      progress.style.width = `${(current / questions.length) * 100}%`;

      shuffleArray(q.words).forEach(word => {
        const btn = document.createElement("div");
        btn.className = "word";
        btn.textContent = word;
        btn.onclick = () => selectWord(btn);
        wordBank.appendChild(btn);
      });
    }

    function selectWord(btn) {
      if (btn.classList.contains("selected")) return;
      btn.classList.add("selected");
      const clone = btn.cloneNode(true);
      clone.onclick = () => {
        btn.classList.remove("selected");
        clone.remove();
        toggleCheckButton();
      };
      answerArea.appendChild(clone);
      toggleCheckButton();
    }

    function toggleCheckButton() {
      const total = answerArea.children.length;
      const required = questions[current].words.length;
      checkBtn.disabled = total !== required;
    }

    checkBtn.onclick = () => {
      const userAnswer = Array.from(answerArea.children).map(el => el.textContent).join(" ");
      if (userAnswer === questions[current].correct) {
        resultArea.textContent = "✅ To‘g‘ri!";
        score++;
      } else {
        resultArea.textContent = `❌ Noto‘g‘ri! To‘g‘ri javob: ${questions[current].correct}`;
      }
      current++;
      setTimeout(() => {
        if (current < questions.length) {
          renderQuestion();
        } else {
          showFinalResult();
        }
      }, 1500);
    };

    function showFinalResult() {
      question.textContent = "Test yakunlandi";
      wordBank.innerHTML = "";
      answerArea.innerHTML = "";
      checkBtn.style.display = "none";
      resultArea.innerHTML = `Umumiy natija: <b>${score} / ${questions.length}</b><br><br>
        <button onclick="location.reload()">Qayta urinish</button>
        <button onclick="location.href='index.html'">Menyuga qaytish</button>
        <button onclick="location.href='dars4.html'">Keyingi dars</button>`;
      progress.style.width = `100%`;
    }

    function shuffleArray(arr) {
      return arr.map(x => [Math.random(), x]).sort().map(x => x[1]);
    }

    renderQuestion();
  </script></body>
</html>