<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ispan Tili Testi</title>
    <style>
        :root {
            --bg-dark: #0a0a0a;
            --bg-card: #1a1a1a;
            --accent-green: #58cc02;
            --accent-red: #ff4b4b;
            --accent-blue: #1cb0f6;
            --text-main: #ffffff;
            --text-dim: #afafaf;
            --border: #333333;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-dark);
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            color: var(--text-main);
            display: flex;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
        }

        .app-container {
            width: 100%;
            max-width: 480px;
            display: flex;
            flex-direction: column;
            padding: 20px;
        }

        /* Progress Bar */
        .header { padding: 10px 0 30px; }
        .progress-bg {
            background: var(--border);
            height: 12px;
            border-radius: 10px;
            width: 100%;
        }
        #progress-fill {
            background: var(--accent-green);
            height: 100%;
            border-radius: 10px;
            width: 10%;
            transition: width 0.3s ease;
        }

        /* Savol qismi */
        .question-box {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 30px;
        }
        .char-img { width: 80px; height: 80px; object-fit: contain; }
        .bubble {
            background: var(--bg-card);
            border: 2px solid var(--border);
            padding: 15px;
            border-radius: 15px;
            position: relative;
            font-size: 18px;
            font-weight: 600;
            flex: 1;
        }
        .bubble::after {
            content: '';
            position: absolute;
            left: -10px;
            top: 50%;
            transform: translateY(-50%);
            border-width: 10px 10px 10px 0;
            border-style: solid;
            border-color: transparent var(--border) transparent transparent;
        }

        /* Variantlar */
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
            flex: 1;
        }
        .option {
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-bottom: 5px solid var(--border);
            padding: 15px;
            border-radius: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.1s ease;
            user-select: none;
        }
        .option:active { transform: translateY(2px); border-bottom-width: 2px; }
        .option.selected {
            border-color: var(--accent-blue);
            background: rgba(28, 176, 246, 0.1);
            color: var(--accent-blue);
        }
        .option-prefix {
            width: 30px;
            height: 30px;
            border: 2px solid currentColor;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
        }
        .option-text { font-size: 17px; font-weight: 500; }

        /* Natija holatlari */
        .option.correct { border-color: var(--accent-green); background: rgba(88, 204, 2, 0.1); color: var(--accent-green); }
        .option.wrong { border-color: var(--accent-red); background: rgba(255, 75, 75, 0.1); color: var(--accent-red); }

        /* Footer tugmasi */
        .footer { padding: 20px 0; }
        .btn-check {
            width: 100%;
            padding: 18px;
            border-radius: 15px;
            border: none;
            background: var(--border);
            color: var(--text-dim);
            font-size: 18px;
            font-weight: bold;
            text-transform: uppercase;
            cursor: not-allowed;
            transition: 0.2s;
        }
        .btn-check.active {
            background: var(--accent-green);
            color: white;
            cursor: pointer;
            box-shadow: 0 4px 0 #46a302;
        }
        .btn-check.next { background: var(--accent-blue); box-shadow: 0 4px 0 #0c91d1; color: white; cursor: pointer; }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <div class="progress-bg"><div id="progress-fill"></div></div>
    </div>

    <div class="question-box">
        <img src="https://image2url.com/r2/default/images/1770213716285-e701e8d5-a098-4e7d-8ffa-9f8eb938c38e.png" class="char-img">
        <div class="bubble" id="question-text">Ispan alifbosida nechta harf bor?</div>
    </div>

    <div class="options-container" id="options-list">
        </div>

    <div class="footer">
        <button class="btn-check" id="main-btn" disabled>Tekshirish</button>
    </div>
</div>

<script>
    const questions = [
        { q: "Ispan alifbosida nechta harf bor?", a: ["26", "27", "28", "29"], correct: 1 },
        { q: "Ispan tilida nechta unli harf bor?", a: ["4", "5", "6", "7"], correct: 1 },
        { q: "Ispan tilida nechta undosh harf bor?", a: ["21", "22", "23", "24"], correct: 1 },
        { q: "â€œCâ€ qachon â€œkâ€ kabi oâ€˜qiladi?", a: ["E, I bilan", "A, O, U bilan", "Y bilan", "H bilan"], correct: 1 },
        { q: "â€œGâ€ harfi talaffuzi qachon oâ€˜zgaradi?", a: ["A, O, U bilan", "E, I bilan", "Y bilan", "H bilan"], correct: 1 },
        { q: "â€œHâ€ harfi qachon oâ€˜qilmaydi?", a: ["Har doim", "Hech qachon", "Baâ€™zan", "Soâ€˜z oxirida"], correct: 0 },
        { q: "â€œJâ€ harfi qanday tovush beradi?", a: ["j", "h", "x", "y"], correct: 2 },
        { q: "â€œBâ€ va â€œVâ€ talaffuzi...", a: ["Farq qiladi", "Bir xil", "Har doim farq qiladi", "Faqat yozuvda"], correct: 1 },
        { q: "â€œXâ€ harfi qanday oâ€˜qilishi mumkin?", a: ["s", "ks", "x", "h"], correct: 1 },
        { q: "â€œCâ€ qachon â€œsâ€ boâ€˜ladi?", a: ["A, O, U bilan", "R bilan", "E, I bilan", "H bilan"], correct: 2 }
    ];

    let currentIdx = 0;
    let selectedIdx = null;
    let isChecked = false;

    const qText = document.getElementById('question-text');
    const optList = document.getElementById('options-list');
    const mainBtn = document.getElementById('main-btn');
    const progress = document.getElementById('progress-fill');

    function loadQuestion() {
        const item = questions[currentIdx];
        qText.innerText = item.q;
        optList.innerHTML = '';
        selectedIdx = null;
        isChecked = false;
        
        mainBtn.innerText = "Tekshirish";
        mainBtn.className = "btn-check";
        mainBtn.disabled = true;

        item.a.forEach((opt, i) => {
            const prefix = String.fromCharCode(65 + i); // A, B, C, D
            const div = document.createElement('div');
            div.className = 'option';
            div.innerHTML = `<div class="option-prefix">${prefix}</div><div class="option-text">${opt}</div>`;
            div.onclick = () => selectOption(i);
            optList.appendChild(div);
        });

        progress.style.width = `${((currentIdx + 1) / questions.length) * 100}%`;
    }

    function selectOption(idx) {
        if (isChecked) return;
        selectedIdx = idx;
        const options = document.querySelectorAll('.option');
        options.forEach(o => o.classList.remove('selected'));
        options[idx].classList.add('selected');
        
        mainBtn.disabled = false;
        mainBtn.classList.add('active');
    }

    mainBtn.onclick = () => {
        if (!isChecked) {
            checkAnswer();
        } else {
            nextQuestion();
        }
    };

    function checkAnswer() {
        isChecked = true;
        const options = document.querySelectorAll('.option');
        const correct = questions[currentIdx].correct;

        if (selectedIdx === correct) {
            options[selectedIdx].classList.add('correct');
        } else {
            options[selectedIdx].classList.add('wrong');
            options[correct].classList.add('correct');
        }

        mainBtn.innerText = "Davom etish";
        mainBtn.className = "btn-check next";
    }

    function nextQuestion() {
        currentIdx++;
        if (currentIdx < questions.length) {
            loadQuestion();
        } else {
            qText.innerText = "Tabriklaymiz! Test tugadi. ðŸŽ‰";
            optList.innerHTML = "";
            mainBtn.innerText = "Qayta boshlash";
            currentIdx = -1; 
        }
    }

    loadQuestion();
</script>

</body>
</html>
