<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ã‰l / Ella â€” ispancha olmoshlar</title>
    <style>
        /* Qora fon, oq matn â€” hech qanday qoâ€˜shimcha bezak */
        body {
            background-color: black;
            color: white;
            font-family: sans-serif;
            line-height: 1.6;
            margin: 2em;
        }
        p {
            margin-bottom: 1em;
        }
        /* Ispancha soâ€˜zlar â€” bosiladigan tugma */
        .spanish-word {
            display: inline-block;
            background: none;
            border: none;
            color: white;
            font-size: inherit;
            font-family: inherit;
            padding: 0;
            margin: 0;
            text-decoration: underline;
            text-decoration-style: dotted;
            text-underline-offset: 0.2em;
            cursor: pointer;
        }
        /* Popup oynasi */
        .popup {
            position: absolute;
            background: #1a1a1a;
            color: white;
            border: 1px solid #444;
            border-radius: 8px;
            padding: 12px 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
            display: none;
            z-index: 1000;
            min-width: 180px;
            backdrop-filter: blur(4px);
        }
        /* Popup ichidagi tarjima qatori */
        .translation {
            font-size: 1.1em;
            margin-bottom: 10px;
            border-bottom: 1px solid #444;
            padding-bottom: 6px;
        }
        /* Karnay ikonkasi â€” rangi oq */
        .speaker-btn {
            background: none;
            border: 1px solid white;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            font-size: 1.4rem;
            line-height: 1;
            padding: 0;
            transition: 0.2s;
        }
        .speaker-btn:hover {
            background: white;
            color: black;
        }
        /* popup yopish (ixtiyoriy) */
        .close-popup {
            margin-left: 12px;
            color: #aaa;
            cursor: pointer;
            font-size: 1.2rem;
        }
        .close-popup:hover {
            color: white;
        }
    </style>
</head>
<body>

    <p>
        <strong>Ã‰l (U â€” erkaklar uchun)</strong><br>
        Bu olmosh faqat erkak jinsidagi shaxslarga nisbatan ishlatiladi.
    </p>

    <p>
        <strong>Ella (U â€” ayollar uchun)</strong><br>
        Ayol jinsidagi shaxslar uchun Ella olmoshini ishlatamiz.<br>
        Talaffuz siri:<br>
        Ispan tilida ikkita "ll" harfi yonma-yon kelsa, u "y" kabi oâ€˜qiladi.<br>
        â†’ <em>Ella</em> deb yoziladi, lekin <em>"Eya"</em> deb talaffuz qilinadi.<br>
        Eslatma: Baâ€™zi lotin amerikasi shevalarida "Eja" yoki "Esha" kabi eshitilishi ham mumkin, lekin standart talaffuzi â€” Eya
    </p>

    <p>
        <!-- Ispancha soâ€˜zlar â€” bosish uchun -->
        <button class="spanish-word" data-spanish="Ella come pan" data-uz="U non yeydi">Ella come pan</button> â€“ U non yeydi<br>
        <button class="spanish-word" data-spanish="Ella bebe agua" data-uz="U suv ichadi">Ella bebe agua</button> â€“ U suv ichadi.<br>
        <button class="spanish-word" data-spanish="Ella estudia espaÃ±ol" data-uz="U ispan tilini oâ€˜rganadi">Ella estudia espaÃ±ol</button> â€“ U ispan tilini oâ€˜rganadi
    </p>

    <!-- Popup oyna (bitta, dinamik toâ€˜ldiriladi) -->
    <div id="popup" class="popup">
        <div id="popup-translation" class="translation"></div>
        <div style="display: flex; align-items: center; justify-content: space-between;">
            <button id="speakerButton" class="speaker-btn">ðŸ”Š</button>
            <span id="closePopup" class="close-popup">âœ–</span>
        </div>
    </div>

    <script>
        (function() {
            const popup = document.getElementById('popup');
            const translationDiv = document.getElementById('popup-translation');
            const speakerBtn = document.getElementById('speakerButton');
            const closeBtn = document.getElementById('closePopup');

            let currentSpanishText = '';

            // Barcha ispancha soâ€˜zlar
            document.querySelectorAll('.spanish-word').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    
                    const spanish = this.getAttribute('data-spanish');
                    const uz = this.getAttribute('data-uz');
                    
                    currentSpanishText = spanish;
                    translationDiv.textContent = `${spanish} â€” ${uz}`;
                    
                    // Popupni bosilgan tugma yoniga qoâ€˜yish
                    const rect = this.getBoundingClientRect();
                    popup.style.top = window.scrollY + rect.bottom + 8 + 'px';
                    popup.style.left = window.scrollX + rect.left + 'px';
                    
                    popup.style.display = 'block';
                });
            });

            // Karnay bosilganda matnni oâ€˜qish (Web Speech API)
            speakerBtn.addEventListener('click', function() {
                if (!currentSpanishText) return;
                
                // SpeechSynthesis soâ€˜rovi
                const utterance = new SpeechSynthesisUtterance(currentSpanishText);
                utterance.lang = 'es-ES';  // Ispan tili (standart)
                utterance.rate = 0.9;
                utterance.pitch = 1;
                window.speechSynthesis.cancel(); // oldingi ovozni toâ€˜xtatish
                window.speechSynthesis.speak(utterance);
            });

            // Popupni yopish
            closeBtn.addEventListener('click', function() {
                popup.style.display = 'none';
                window.speechSynthesis.cancel(); // ovozni ham toâ€˜xtatish
            });

            // Popupdan tashqariga bosilsa yopilsin
            window.addEventListener('click', function(e) {
                if (!popup.contains(e.target) && !e.target.classList.contains('spanish-word')) {
                    popup.style.display = 'none';
                    window.speechSynthesis.cancel();
                }
            });

            // Scroll qilganda popupni yopish (sodda, bezovta qilmaslik uchun)
            window.addEventListener('scroll', function() {
                popup.style.display = 'none';
                window.speechSynthesis.cancel();
            });
        })();
    </script>

    <!-- Eslatma: qora fon + oq matn toâ€˜liq saqlangan -->
</body>
</html>