<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Twitter Profil - @javlonbek</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }

    body {
      background-color: #000;
      color: #fff;
      display: flex;
      justify-content: center;
      position: relative;
    }

    .container {
      width: 600px;
      border-left: 1px solid #2f3336;
      border-right: 1px solid #2f3336;
      min-height: 100vh;
      background-color: #000;
    }

    .header {
      position: relative;
    }

    .cover {
      width: 100%;
      height: 200px;
      background: linear-gradient(45deg, #1da1f2, #0c84d1);
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .cover::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(transparent 60%, rgba(0,0,0,0.5));
    }

    .avatar {
      position: absolute;
      bottom: -50px;
      left: 20px;
      width: 100px;
      height: 100px;
      border: 4px solid #000;
      border-radius: 50%;
      background: url('https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=880&q=80') no-repeat center/cover;
      cursor: pointer;
      z-index: 2;
    }

    .profile-info {
      padding: 60px 20px 20px;
      position: relative;
    }

    .edit-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      background-color: transparent;
      color: #fff;
      border: 1px solid #536471;
      border-radius: 20px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
      z-index: 2;
    }

    .edit-btn:hover {
      background-color: rgba(255, 255, 255, 0.1);
      border-color: #1da1f2;
    }

    .profile-info h2 {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 2px;
    }

    .username {
      color: #8b98a5;
      font-size: 16px;
      margin-bottom: 8px;
    }

    .location {
      color: #fff;
      font-size: 15px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .location::before {
      content: 'üìç';
    }

    .bio {
      color: #fff;
      font-size: 15px;
      margin-bottom: 15px;
      line-height: 1.5;
    }

    .follow-info {
      display: flex;
      gap: 20px;
      margin-top: 10px;
      font-size: 15px;
      flex-wrap: wrap;
    }

    .follow-info span strong {
      color: #fff;
      font-weight: 700;
    }

    .follow-info span {
      color: #8b98a5;
      cursor: pointer;
      transition: color 0.2s;
    }

    .follow-info span:hover {
      color: #1da1f2;
    }

    .tabs {
      display: flex;
      border-bottom: 1px solid #2f3336;
      margin-top: 20px;
    }

    .tab {
      flex: 1;
      text-align: center;
      padding: 15px 0;
      font-size: 15px;
      font-weight: 500;
      color: #8b98a5;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }

    .tab.active {
      color: #fff;
    }

    .tab.active::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      right: 0;
      height: 2px;
      background-color: #1da1f2;
    }

    .tab:hover {
      background-color: rgba(255, 255, 255, 0.05);
      color: #fff;
    }

    .content {
      padding: 20px;
      min-height: 300px;
    }

    .video-item {
      background-color: #1a1a1a;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 1px solid #2f3336;
      position: relative;
      overflow: hidden;
    }

    .video-item:hover {
      background-color: #222;
      transform: translateY(-2px);
      border-color: #1da1f2;
      box-shadow: 0 4px 12px rgba(29, 161, 242, 0.2);
    }

    .video-item h3 {
      font-size: 18px;
      margin-bottom: 8px;
      color: #fff;
      line-height: 1.4;
    }

    .video-item p {
      font-size: 14px;
      color: #8b98a5;
      line-height: 1.4;
      margin-bottom: 10px;
    }

    .video-thumb {
      width: 100%;
      height: 180px;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 12px;
      background-color: #333;
      position: relative;
    }

    .video-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.3s ease;
    }

    .video-item:hover .video-thumb img {
      transform: scale(1.05);
    }

    .video-overlay {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 0, 0, 0.7);
      padding: 8px 16px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
      z-index: 1;
    }

    .video-overlay svg {
      width: 18px;
      height: 18px;
    }

    .video-meta {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-top: 10px;
      font-size: 12px;
      color: #8b98a5;
    }

    .video-meta span {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .progress {
      color: #1da1f2;
      font-size: 14px;
      margin-top: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .progress-bar {
      flex: 1;
      height: 4px;
      background-color: #2f3336;
      border-radius: 2px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #1da1f2, #0c84d1);
      transition: width 0.3s ease;
      border-radius: 2px;
    }

    .no-videos {
      text-align: center;
      padding: 60px 20px;
      color: #8b98a5;
    }

    .no-videos svg {
      width: 64px;
      height: 64px;
      margin-bottom: 20px;
      opacity: 0.5;
    }

    .no-videos h3 {
      font-size: 18px;
      margin-bottom: 10px;
      color: #fff;
    }

    .no-videos p {
      font-size: 14px;
      margin-bottom: 20px;
    }

    .upload-first-btn {
      background-color: #1da1f2;
      color: #fff;
      border: none;
      border-radius: 20px;
      padding: 10px 20px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
    }

    .upload-first-btn:hover {
      background-color: #0c84d1;
      transform: translateY(-2px);
    }

    /* Qo'shimcha yangi style'lar */
    .video-upload-time {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      z-index: 2;
    }

    .video-duration {
      position: absolute;
      bottom: 10px;
      right: 10px;
      background: rgba(0, 0, 0, 0.9);
      color: #fff;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      z-index: 2;
    }

    .video-upload-status {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 10px;
      padding: 8px;
      background: rgba(29, 161, 242, 0.1);
      border-radius: 8px;
      font-size: 14px;
    }

    .upload-progress-text {
      flex: 1;
      font-size: 12px;
      color: #1da1f2;
    }

    .video-actions {
      display: flex;
      gap: 10px;
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid #2f3336;
    }

    .video-action-btn {
      background: transparent;
      border: none;
      color: #8b98a5;
      display: flex;
      align-items: center;
      gap: 5px;
      cursor: pointer;
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 12px;
      transition: all 0.2s;
    }

    .video-action-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      color: #1da1f2;
    }

    .video-action-btn svg {
      width: 14px;
      height: 14px;
    }

    /* Video player modal uchun */
    .video-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }

    .video-modal.show {
      display: flex;
    }

    .modal-content {
      width: 90%;
      max-width: 1000px;
      background: #000;
      border-radius: 12px;
      overflow: hidden;
      position: relative;
    }

    .modal-video-player {
      width: 100%;
      height: 0;
      padding-bottom: 56.25%;
      background: #000;
      position: relative;
    }

    .modal-video-player video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .modal-close-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.7);
      border: none;
      color: #fff;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      font-size: 20px;
    }

    .modal-close-btn:hover {
      background: rgba(0, 0, 0, 0.9);
    }

    .modal-video-info {
      padding: 20px;
      color: #fff;
    }

    .modal-video-title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .modal-video-description {
      color: #8b98a5;
      line-height: 1.5;
      margin-bottom: 20px;
    }

    .modal-video-meta {
      display: flex;
      gap: 20px;
      font-size: 14px;
      color: #8b98a5;
    }

    /* Upload modal uchun */
    .upload-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }

    .upload-modal.show {
      display: flex;
    }

    .video-modal-content {
      background-color: #000;
      width: 600px;
      border-radius: 16px;
      border: 1px solid #2f3336;
      overflow: hidden;
    }

    .video-modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 15px;
      border-bottom: 1px solid #2f3336;
    }

    .video-cancel-btn {
      background: none;
      border: none;
      color: #1da1f2;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      padding: 8px 16px;
      border-radius: 4px;
      transition: background-color 0.2s;
    }

    .video-cancel-btn:hover {
      background-color: rgba(29, 161, 242, 0.1);
    }

    .video-modal-title {
      font-size: 18px;
      font-weight: 700;
    }

    .video-form-container {
      padding: 15px;
    }

    .video-preview {
      width: 100%;
      height: 0;
      padding-bottom: 56.25%;
      background-color: #333;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 15px;
      border-radius: 8px;
      overflow: hidden;
      position: relative;
    }

    .video-preview video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .video-preview-placeholder {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #8b98a5;
    }

    .video-preview-placeholder svg {
      margin-bottom: 10px;
      opacity: 0.7;
    }

    .upload-video-btn {
      background-color: #1da1f2;
      color: #fff;
      border: none;
      border-radius: 20px;
      padding: 10px 20px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: background-color 0.2s;
      margin-top: 10px;
    }

    .upload-video-btn:hover {
      background-color: #0c84d1;
    }

    .upload-video-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      background-color: #1da1f2;
    }

    .upload-action-btn {
      background-color: #1da1f2;
      color: #fff;
      border: none;
      border-radius: 20px;
      padding: 12px 30px;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      transition: background-color 0.2s;
      width: 100%;
      margin-top: 20px;
    }

    .upload-action-btn:hover {
      background-color: #0c84d1;
    }

    .upload-action-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      background-color: #1da1f2;
    }

    .video-info {
      color: #8b98a5;
      font-size: 12px;
      margin-top: 5px;
    }

    /* Rasm tanlash uchun */
    .thumbnail-preview {
      width: 100%;
      height: 200px;
      background: #333;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 15px;
      position: relative;
      cursor: pointer;
    }

    .thumbnail-preview img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .thumbnail-preview input {
      display: none;
    }

    .thumbnail-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 14px;
    }

    .video-form-group {
      margin-bottom: 20px;
    }

    .video-form-group label {
      display: block;
      margin-bottom: 5px;
      color: #8b98a5;
      font-size: 14px;
    }

    .video-form-group input,
    .video-form-group textarea {
      width: 100%;
      background-color: transparent;
      border: 1px solid #333;
      border-radius: 4px;
      padding: 10px;
      color: #fff;
      font-size: 16px;
    }

    .video-form-group textarea {
      resize: vertical;
      min-height: 80px;
    }

    .video-form-group input:focus,
    .video-form-group textarea:focus {
      border-color: #1da1f2;
      outline: none;
    }

    /* Notification uchun */
    .notification {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #303030;
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      z-index: 10000;
      font-size: 14px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      max-width: 300px;
    }

    /* Yangi post yaratish tugmasi (o'ng pastda) */
    .compose-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: linear-gradient(45deg, #1da1f2, #0c84d1);
      color: #fff;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      font-size: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(29, 161, 242, 0.4);
      transition: all 0.3s ease;
      z-index: 1000;
      border: none;
    }

    .compose-btn:hover {
      transform: scale(1.1) rotate(90deg);
      box-shadow: 0 6px 25px rgba(29, 161, 242, 0.6);
    }

    .compose-btn:active {
      transform: scale(0.95);
    }

    @media (max-width: 640px) {
      .container {
        width: 100%;
        border: none;
      }
      
      .compose-btn {
        bottom: 20px;
        right: 20px;
        width: 56px;
        height: 56px;
        font-size: 28px;
      }
      
      .video-item {
        margin-bottom: 12px;
        padding: 12px;
      }
      
      .video-thumb {
        height: 160px;
      }
      
      .profile-info {
        padding: 50px 15px 15px;
      }
      
      .cover {
        height: 180px;
      }
      
      .avatar {
        width: 80px;
        height: 80px;
        bottom: -40px;
      }

      .video-modal-content {
        width: 95%;
      }
      
      .modal-content {
        width: 100%;
        height: 100%;
        border-radius: 0;
      }
    }

    @media (max-width: 400px) {
      .follow-info {
        gap: 10px;
      }
      
      .video-meta {
        flex-wrap: wrap;
        gap: 8px;
      }
      
      .video-thumb {
        height: 140px;
      }

      .video-actions {
        flex-wrap: wrap;
      }

      .video-action-btn {
        flex: 1;
        justify-content: center;
        min-width: 80px;
      }
    }
  </style>
</head>
<body>

  <div class="container">
    <div class="header">
      <div class="cover" id="cover"></div>
      <div class="avatar" id="avatar"></div>
    </div>

    <div class="profile-info">
      <button class="edit-btn" id="editBtn">Tahrirlash</button>
      <h2 id="profileName">Rashidov Javlonbek</h2>
      <p class="username" id="profileUsername">@javlonbek</p>
      <p class="location" id="profileLocation">O'zbekiston, Toshkent</p>
      <p class="bio" id="profileBio">üé¨ Video muxlisi | ‚úçÔ∏è Kontent yaratuvchi | üìà Digital marketolog | üéØ Videolar bilan dunyoni o'zgartirish istagida</p>
      <div class="follow-info">
        <span><strong id="videoCount">0</strong> Video</span>
        <span><strong>120</strong> Kuzatilmoqda</span>
        <span><strong>3,245</strong> Kuzatuvchilar</span>
      </div>
    </div>

    <div class="tabs">
      <div class="tab active" data-tab="video">üìπ Video</div>
      <div class="tab" data-tab="pleyli">üéµ Pleyli</div>
      <div class="tab" data-tab="saqlangan">üíæ Saqlangan</div>
    </div>

    <div class="content" id="content">
      <!-- Videolar bu yerga yuklanadi -->
    </div>
  </div>

  <!-- Video ko'rish uchun modal -->
  <div class="video-modal" id="videoModal">
    <div class="modal-content">
      <button class="modal-close-btn" id="modalCloseBtn">√ó</button>
      <div class="modal-video-player" id="modalVideoPlayer">
        <!-- Video bu yerga yuklanadi -->
      </div>
      <div class="modal-video-info" id="modalVideoInfo">
        <!-- Video ma'lumotlari bu yerga yuklanadi -->
      </div>
    </div>
  </div>

  <!-- Video yuklash uchun modal -->
  <div class="upload-modal" id="uploadModal">
    <div class="video-modal-content">
      <div class="video-modal-header">
        <button class="video-cancel-btn" id="uploadModalCancelBtn">Bekor qilish</button>
        <div class="video-modal-title">Yangi video yuklash</div>
        <div style="width: 60px;"></div>
      </div>
      <div class="video-form-container">
        <div class="video-form-group">
          <div class="video-preview" id="videoPreview">
            <div class="video-preview-placeholder">
              <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14 2H6C4.9 2 4.01 2.9 4.01 4L4 20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM6 20V4H13V9H18V20H6Z" fill="currentColor"/>
                <path d="M8 12H16V14H8V12ZM8 16H16V18H8V16Z" fill="currentColor"/>
              </svg>
              Video yuklang
              <button class="upload-video-btn" id="uploadModalVideoBtn">Video yuklash</button>
            </div>
          </div>
          <div class="video-info">Iltimos, 16:9 formatdagi videolarni yuklang (masalan: 1920x1080, 1280x720)</div>
        </div>
        
        <div class="video-form-group">
          <div class="thumbnail-preview" id="thumbnailPreview">
            <div class="thumbnail-overlay">Thumbnail tanlash uchun bosing</div>
            <input type="file" id="thumbnailInput" accept="image/*">
          </div>
        </div>
        
        <div class="video-form-group">
          <input type="text" id="uploadVideoTitle" placeholder="Video sarlavhasi...">
        </div>
        
        <div class="video-form-group">
          <textarea id="uploadVideoDescription" placeholder="Video tavsifi..."></textarea>
        </div>
        
        <button class="upload-action-btn" id="uploadModalSubmitBtn" disabled>Yuklash</button>
      </div>
    </div>
  </div>

  <!-- Yangi post tugmasi (o'ng pastda +) -->
  <button class="compose-btn" id="composeBtn" aria-label="Yangi video yuklash">
    +
  </button>

  <!-- Input fayllar -->
  <input type="file" id="videoInput" accept="video/*" style="display: none;">
  <input type="file" id="modalVideoInput" accept="video/*" style="display: none;">

  <script>
    // ========== INITIALIZATION ==========
    document.addEventListener('DOMContentLoaded', function() {
      initializeApp();
    });

    function initializeApp() {
      // Demo videolarni yaratish (agar hali mavjud bo'lmasa)
      initializeDemoVideos();
      
      // UI elementlarni olish
      const editBtn = document.getElementById('editBtn');
      const composeBtn = document.getElementById('composeBtn');
      const tabs = document.querySelectorAll('.tab');
      const contentDiv = document.getElementById('content');
      const videoCountSpan = document.getElementById('videoCount');
      const videoModal = document.getElementById('videoModal');
      const modalCloseBtn = document.getElementById('modalCloseBtn');
      const modalVideoPlayer = document.getElementById('modalVideoPlayer');
      const modalVideoInfo = document.getElementById('modalVideoInfo');
      const uploadModal = document.getElementById('uploadModal');
      const uploadModalCancelBtn = document.getElementById('uploadModalCancelBtn');
      const uploadModalVideoBtn = document.getElementById('uploadModalVideoBtn');
      const uploadModalSubmitBtn = document.getElementById('uploadModalSubmitBtn');
      const uploadVideoTitle = document.getElementById('uploadVideoTitle');
      const uploadVideoDescription = document.getElementById('uploadVideoDescription');
      const thumbnailPreview = document.getElementById('thumbnailPreview');
      const thumbnailInput = document.getElementById('thumbnailInput');
      const modalVideoInput = document.getElementById('modalVideoInput');
      
      let selectedVideoFile = null;
      let selectedThumbnailFile = null;
      let videoUrl = null;

      // Profil tahrirlash tugmasi
      editBtn.addEventListener('click', function() {
        alert("Profil tahrirlash sahifasi ishlab chiqilmoqda. Tez orada!");
      });

      // Yangi video yuklash tugmasi
      composeBtn.addEventListener('click', function() {
        uploadModal.classList.add('show');
        document.body.style.overflow = 'hidden';
      });

      // Yuklash modalini yopish
      uploadModalCancelBtn.addEventListener('click', function() {
        uploadModal.classList.remove('show');
        document.body.style.overflow = 'auto';
        resetUploadForm();
      });

      // Video tanlash
      uploadModalVideoBtn.addEventListener('click', function() {
        modalVideoInput.click();
      });

      modalVideoInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
          // Fayl hajmini tekshirish
          if (file.size > 500 * 1024 * 1024) {
            alert('Video hajmi 500MB dan katta bo\'lmasligi kerak!');
            modalVideoInput.value = '';
            return;
          }

          selectedVideoFile = file;
          
          // Video preview yaratish
          const reader = new FileReader();
          reader.onload = function(ev) {
            videoUrl = ev.target.result;
            
            // Video preview
            const videoElement = document.createElement('video');
            videoElement.src = videoUrl;
            videoElement.controls = true;
            videoElement.style.width = '100%';
            videoElement.style.height = '100%';
            videoElement.style.objectFit = 'contain';
            
            const preview = document.getElementById('videoPreview');
            preview.innerHTML = '';
            preview.appendChild(videoElement);
            
            // Avtomatik thumbnail yaratish (video birinchi kadrdan)
            createThumbnailFromVideo(videoElement);
            
            // Agar sarlavha kiritilmagan bo'lsa, fayl nomidan foydalanish
            if (!uploadVideoTitle.value.trim()) {
              const fileName = file.name.replace(/\.[^/.]+$/, "");
              uploadVideoTitle.value = fileName;
            }
            
            checkUploadForm();
          };
          reader.readAsDataURL(file);
        }
      });

      // Thumbnail tanlash
      thumbnailPreview.addEventListener('click', function() {
        thumbnailInput.click();
      });

      thumbnailInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
          selectedThumbnailFile = file;
          const reader = new FileReader();
          reader.onload = function(ev) {
            thumbnailPreview.innerHTML = `
              <img src="${ev.target.result}" alt="Thumbnail">
              <div class="thumbnail-overlay">Thumbnailni almashtirish</div>
            `;
          };
          reader.readAsDataURL(file);
        }
      });

      // Form to'ldirilganligini tekshirish
      uploadVideoTitle.addEventListener('input', checkUploadForm);
      uploadVideoDescription.addEventListener('input', checkUploadForm);

      function checkUploadForm() {
        const title = uploadVideoTitle.value.trim();
        uploadModalSubmitBtn.disabled = !(title && selectedVideoFile);
      }

      // Video yuklash
      uploadModalSubmitBtn.addEventListener('click', function() {
        if (!selectedVideoFile) {
          alert('Iltimos, video faylini tanlang!');
          return;
        }

        const title = uploadVideoTitle.value.trim();
        if (!title) {
          alert('Iltimos, video sarlavhasini kiriting!');
          uploadVideoTitle.focus();
          return;
        }

        // Yuklash jarayoni
        uploadModalSubmitBtn.textContent = 'Yuklanmoqda...';
        uploadModalSubmitBtn.disabled = true;

        // Thumbnail yaratish
        let thumbnailDataUrl = '';
        if (selectedThumbnailFile) {
          const reader = new FileReader();
          reader.onload = function(ev) {
            thumbnailDataUrl = ev.target.result;
            completeUpload(title, thumbnailDataUrl);
          };
          reader.readAsDataURL(selectedThumbnailFile);
        } else {
          // Agar thumbnail tanlanmagan bo'lsa, video preview'dan olish
          const videoElement = document.querySelector('#videoPreview video');
          if (videoElement) {
            const canvas = document.createElement('canvas');
            canvas.width = 320;
            canvas.height = 180;
            const ctx = canvas.getContext('2d');
            
            // Videoni 0.1 soniyada pause qilib screenshot olish
            videoElement.currentTime = 0.1;
            videoElement.onseeked = function() {
              ctx.drawImage(videoElement, 0, 0, canvas.width, canvas.height);
              thumbnailDataUrl = canvas.toDataURL('image/jpeg');
              completeUpload(title, thumbnailDataUrl);
            };
          } else {
            completeUpload(title, '');
          }
        }
      });

      function completeUpload(title, thumbnail) {
        // Yangi video obyekti yaratish
        const newVideo = {
          id: Date.now(),
          title: title,
          description: uploadVideoDescription.value.trim(),
          file: videoUrl,
          thumbnail: thumbnail,
          createdAt: new Date().toISOString(),
          uploadedAt: new Date().getTime(),
          status: 'uploading',
          completed: false,
          startTime: Date.now(),
          totalTime: 30000, // 30 soniya
          views: "0",
          timeAgo: "hozirgina",
          likes: 0,
          comments: 0,
          fileName: selectedVideoFile.name,
          fileSize: (selectedVideoFile.size / (1024 * 1024)).toFixed(2) + ' MB',
          duration: '0:00',
          isLocal: true
        };

        // LocalStorage ga video qo'shish
        let videos = JSON.parse(localStorage.getItem('videos')) || [];
        videos.push(newVideo);
        localStorage.setItem('videos', JSON.stringify(videos));

        // Modalni yopish
        setTimeout(() => {
          uploadModal.classList.remove('show');
          document.body.style.overflow = 'auto';
          resetUploadForm();
          
          // Kontentni yangilash
          loadContent('video');
          
          // Yuklash tugmasini qayta tiklash
          uploadModalSubmitBtn.textContent = 'Yuklash';
          uploadModalSubmitBtn.disabled = false;
          
          showNotification('Video yuklandi!');
        }, 1000);
      }

      function resetUploadForm() {
        selectedVideoFile = null;
        selectedThumbnailFile = null;
        videoUrl = null;
        uploadVideoTitle.value = '';
        uploadVideoDescription.value = '';
        
        const preview = document.getElementById('videoPreview');
        preview.innerHTML = `
          <div class="video-preview-placeholder">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14 2H6C4.9 2 4.01 2.9 4.01 4L4 20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM6 20V4H13V9H18V20H6Z" fill="currentColor"/>
              <path d="M8 12H16V14H8V12ZM8 16H16V18H8V16Z" fill="currentColor"/>
            </svg>
            Video yuklang
            <button class="upload-video-btn" id="uploadModalVideoBtn">Video yuklash</button>
          </div>
        `;
        
        thumbnailPreview.innerHTML = `
          <div class="thumbnail-overlay">Thumbnail tanlash uchun bosing</div>
          <input type="file" id="thumbnailInput" accept="image/*">
        `;
        
        // Event listenerlarni qayta ulash
        document.getElementById('uploadModalVideoBtn').addEventListener('click', function() {
          modalVideoInput.click();
        });
      }

      function createThumbnailFromVideo(videoElement) {
        const canvas = document.createElement('canvas');
        canvas.width = 320;
        canvas.height = 180;
        const ctx = canvas.getContext('2d');
        
        videoElement.currentTime = 0.1;
        videoElement.onseeked = function() {
          ctx.drawImage(videoElement, 0, 0, canvas.width, canvas.height);
          const thumbnail = canvas.toDataURL('image/jpeg');
          
          // Thumbnail preview'ga qo'yish
          thumbnailPreview.innerHTML = `
            <img src="${thumbnail}" alt="Thumbnail">
            <div class="thumbnail-overlay">Thumbnailni almashtirish</div>
          `;
        };
      }

      // Video modalini yopish
      modalCloseBtn.addEventListener('click', function() {
        videoModal.classList.remove('show');
        document.body.style.overflow = 'auto';
        
        // Videoni to'xtatish
        const videoPlayer = modalVideoPlayer.querySelector('video');
        if (videoPlayer) {
          videoPlayer.pause();
          videoPlayer.currentTime = 0;
        }
      });

      // Modal tashqarisini bosganda yopish
      videoModal.addEventListener('click', function(e) {
        if (e.target === videoModal) {
          videoModal.classList.remove('show');
          document.body.style.overflow = 'auto';
          
          const videoPlayer = modalVideoPlayer.querySelector('video');
          if (videoPlayer) {
            videoPlayer.pause();
            videoPlayer.currentTime = 0;
          }
        }
      });

      // Tablar uchun event listener
      tabs.forEach(tab => {
        tab.addEventListener('click', function() {
          tabs.forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          loadContent(this.dataset.tab);
        });
      });

      // Tablar faol holati va kontentni yuklash
      function loadContent(tabName) {
        contentDiv.innerHTML = '';
        
        switch(tabName) {
          case 'video':
            loadVideos();
            break;
          case 'pleyli':
            loadPlaylists();
            break;
          case 'saqlangan':
            loadSavedVideos();
            break;
        }
      }

      // Videolarni yuklash
      function loadVideos() {
        let videos = JSON.parse(localStorage.getItem('videos')) || [];
        
        // Video sonini yangilash
        videoCountSpan.textContent = videos.length;
        
        if (videos.length === 0) {
          contentDiv.innerHTML = `
            <div class="no-videos">
              <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14 2H6C4.9 2 4.01 2.9 4.01 4L4 20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM6 20V4H13V9H18V20H6Z" fill="#8b98a5"/>
                <path d="M8 12H16V14H8V12ZM8 16H16V18H8V16Z" fill="#8b98a5"/>
              </svg>
              <h3>Hech qanday video yo ªq</h3>
              <p>Birinchi video yuklash uchun + tugmasini bosing</p>
              <button class="upload-first-btn" onclick="showUploadModal()">
                Birinchi video yuklash
              </button>
            </div>
          `;
          return;
        }
        
        // Videolarni teskarisi tartibda ko'rsatish (yangisi birinchi)
        videos.reverse().forEach((video, index) => {
          const videoDiv = document.createElement('div');
          videoDiv.className = 'video-item';
          videoDiv.dataset.videoId = video.id;
          
          // Video tasviri (thumbnail)
          const thumbDiv = document.createElement('div');
          thumbDiv.className = 'video-thumb';
          
          const thumbImg = document.createElement('img');
          if (video.thumbnail && video.thumbnail !== '') {
            thumbImg.src = video.thumbnail;
          } else if (video.file) {
            // Agar thumbnail yo'q bo'lsa, video fayldan screenshot olish
            thumbImg.src = getVideoScreenshot(video.file);
          } else {
            thumbImg.src = 'https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80';
          }
          thumbImg.alt = video.title;
          thumbImg.loading = 'lazy';
          thumbDiv.appendChild(thumbImg);
          
          // Video davomiyligi
          if (video.duration && video.duration !== '0:00') {
            const durationDiv = document.createElement('div');
            durationDiv.className = 'video-duration';
            durationDiv.textContent = video.duration;
            thumbDiv.appendChild(durationDiv);
          }
          
          // Yuklangan vaqt
          const timeDiv = document.createElement('div');
          timeDiv.className = 'video-upload-time';
          timeDiv.textContent = video.timeAgo || 'hozirgina';
          thumbDiv.appendChild(timeDiv);
          
          // Play overlay
          const overlayDiv = document.createElement('div');
          overlayDiv.className = 'video-overlay';
          overlayDiv.innerHTML = `
            <svg width="20" height="20" viewBox="0 0 24 24" fill="#fff">
              <path d="M8 5v14l11-7z"/>
            </svg>
            <span>Ko'rish</span>
          `;
          thumbDiv.appendChild(overlayDiv);
          
          videoDiv.appendChild(thumbDiv);
          
          // Video sarlavhasi
          const titleH3 = document.createElement('h3');
          titleH3.textContent = video.title || 'Nomsiz video';
          videoDiv.appendChild(titleH3);
          
          // Video tavsifi
          if (video.description) {
            const descP = document.createElement('p');
            const shortDesc = video.description.length > 100 
              ? video.description.substring(0, 100) + '...' 
              : video.description;
            descP.textContent = shortDesc;
            videoDiv.appendChild(descP);
          }
          
          // Video meta ma'lumotlari
          const metaDiv = document.createElement('div');
          metaDiv.className = 'video-meta';
          
          const viewsSpan = document.createElement('span');
          viewsSpan.innerHTML = `<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#8b98a5"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> ${video.views || '0'}`;
          
          const timeSpan = document.createElement('span');
          timeSpan.innerHTML = `<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#8b98a5"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> ${video.timeAgo || 'hozirgina'}`;
          
          const likesSpan = document.createElement('span');
          likesSpan.innerHTML = `<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#8b98a5"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg> ${video.likes || 0}`;
          
          metaDiv.appendChild(viewsSpan);
          metaDiv.appendChild(timeSpan);
          metaDiv.appendChild(likesSpan);
          videoDiv.appendChild(metaDiv);
          
          
          // Yuklanayotgan video uchun progress bar
          if (video.status === 'uploading') {
            const progressDiv = document.createElement('div');
            progressDiv.className = 'video-upload-status';
            
            const progressBar = document.createElement('div');
            progressBar.className = 'progress-bar';
            
            const progressFill = document.createElement('div');
            progressFill.className = 'progress-fill';
            progressFill.style.width = '0%';
            progressBar.appendChild(progressFill);
            
            const progressText = document.createElement('div');
            progressText.className = 'upload-progress-text';
            progressText.textContent = 'Yuklanmoqda...';
            
            progressDiv.appendChild(progressBar);
            progressDiv.appendChild(progressText);
            videoDiv.appendChild(progressDiv);
            
            updateProgress(video, progressDiv, progressFill, progressText, videos.length - 1 - index);
          }
          
          // Video harakatlari
          const actionsDiv = document.createElement('div');
          actionsDiv.className = 'video-actions';
          
          const playBtn = document.createElement('button');
          playBtn.className = 'video-action-btn';
          playBtn.innerHTML = `
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M14.752 11.168l-3.197-2.132A1 1 0 0 0 10 9.87v4.263a1 1 0 0 0 1.555.832l3.197-2.132a1 1 0 0 0 0-1.664z"/>
              <path d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"/>
            </svg>
            Ko'rish
          `;
          playBtn.onclick = function(e) {
            e.stopPropagation();
            playVideo(video);
          };
          
          const shareBtn = document.createElement('button');
          shareBtn.className = 'video-action-btn';
          shareBtn.innerHTML = `
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="18" cy="5" r="3"/>
              <circle cx="6" cy="12" r="3"/>
              <circle cx="18" cy="19" r="3"/>
              <line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/>
              <line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/>
            </svg>
            Ulashish
          `;
          shareBtn.onclick = function(e) {
            e.stopPropagation();
            shareVideo(video);
          };
          
          const deleteBtn = document.createElement('button');
          deleteBtn.className = 'video-action-btn';
          deleteBtn.innerHTML = `
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M3 6h18M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
            </svg>
            O'chirish
          `;
          deleteBtn.onclick = function(e) {
            e.stopPropagation();
            deleteVideo(video.id, videos.length - 1 - index);
          };
          
          actionsDiv.appendChild(playBtn);
          actionsDiv.appendChild(shareBtn);
          actionsDiv.appendChild(deleteBtn);
          videoDiv.appendChild(actionsDiv);
          
          // Video bosilganda modalda ko'rsatish
          videoDiv.addEventListener('click', function(e) {
            if (!e.target.closest('.video-action-btn') && !e.target.closest('.video-upload-status')) {
              playVideo(video);
            }
          });
          
          contentDiv.appendChild(videoDiv);
        });
      }

      // Videoni o'ynatish
      function playVideo(video) {
        // Modalni tozalash
        modalVideoPlayer.innerHTML = '';
        modalVideoInfo.innerHTML = '';
        
        // Video elementini yaratish
        const videoElement = document.createElement('video');
        videoElement.controls = true;
        videoElement.autoplay = true;
        videoElement.style.width = '100%';
        videoElement.style.height = '100%';
        
        if (video.file) {
          videoElement.src = video.file;
        } else {
          videoElement.src = 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4';
        }
        
        modalVideoPlayer.appendChild(videoElement);
        
        // Video davomiyligini aniqlash
        videoElement.onloadedmetadata = function() {
          if (!video.duration || video.duration === '0:00') {
            const duration = videoElement.duration;
            const minutes = Math.floor(duration / 60);
            const seconds = Math.floor(duration % 60);
            video.duration = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            // LocalStorage ni yangilash
            updateVideoInStorage(video);
          }
        };
        
        // Video ma'lumotlarini kiritish
        const titleDiv = document.createElement('div');
        titleDiv.className = 'modal-video-title';
        titleDiv.textContent = video.title;
        
        const descDiv = document.createElement('div');
        descDiv.className = 'modal-video-description';
        descDiv.textContent = video.description || 'Tavsif yo\'q';
        
        const metaDiv = document.createElement('div');
        metaDiv.className = 'modal-video-meta';
        metaDiv.innerHTML = `
          <span>${video.views} ko'rish</span>
          <span>${video.timeAgo}</span>
          <span>${video.likes || 0} like</span>
        `;
        
        modalVideoInfo.appendChild(titleDiv);
        modalVideoInfo.appendChild(descDiv);
        modalVideoInfo.appendChild(metaDiv);
        
        // Modalni ochish
        videoModal.classList.add('show');
        document.body.style.overflow = 'hidden';
        
        // Ko'rishlar sonini oshirish
        if (video.views) {
          const viewsNum = parseInt(video.views.replace(/[^\d]/g, ''));
          if (!isNaN(viewsNum)) {
            video.views = formatNumber(viewsNum + 1);
          }
        } else {
          video.views = "1";
        }
        
        // LocalStorage ni yangilash
        updateVideoInStorage(video);
      }

      // Videoni ulashish
      function shareVideo(video) {
        if (navigator.share) {
          navigator.share({
            title: video.title,
            text: video.description,
            url: window.location.href + '?video=' + video.id
          });
        } else {
          navigator.clipboard.writeText(video.title + ' - ' + window.location.href)
            .then(() => showNotification('Havola nusxalandi!'))
            .catch(() => alert('Havolani nusxalashda xatolik'));
        }
      }

      // Videoni o'chirish
      function deleteVideo(videoId, index) {
        if (confirm("Bu videoni o'chirishni istaysizmi?")) {
          let videos = JSON.parse(localStorage.getItem('videos')) || [];
          videos = videos.filter(v => v.id !== videoId);
          localStorage.setItem('videos', JSON.stringify(videos));
          
          loadContent('video');
          showNotification('Video o\'chirildi');
        }
      }

      // Progressni yangilash funksiyasi
      function updateProgress(video, progressElement, progressFill, progressText, originalIndex) {
        if (!video.startTime) return;
        
        const now = Date.now();
        const elapsed = now - video.startTime;
        const total = video.totalTime || 30000;
        const progress = Math.min(100, (elapsed / total) * 100);
        
        // Progress fill ni yangilash
        progressFill.style.width = `${progress}%`;
        
        const remainingSeconds = Math.max(0, (total - elapsed) / 1000);
        const remainingMinutes = Math.floor(remainingSeconds / 60);
        const remainingSecs = Math.floor(remainingSeconds % 60);
        
        // Progress text ni yangilash
        progressText.textContent = `${Math.floor(progress)}% ‚Ä¢ ${remainingMinutes} daqiqa ${remainingSecs} soniya qoldi`;
        
        if (progress >= 100) {
          // Yuklash tugaganda statusni yangilash
          video.status = 'uploaded';
          video.completed = true;
          
          // Video davomiyligini o'lchash
          if (video.file) {
            const videoElement = document.createElement('video');
            videoElement.src = video.file;
            videoElement.onloadedmetadata = function() {
              const duration = videoElement.duration;
              const minutes = Math.floor(duration / 60);
              const seconds = Math.floor(duration % 60);
              video.duration = `${minutes}:${seconds.toString().padStart(2, '0')}`;
              
              // LocalStorage ni yangilash
              updateVideoInStorage(video);
              
              // UI ni yangilash
              setTimeout(() => loadContent('video'), 1000);
            };
          } else {
            // LocalStorage ni yangilash
            updateVideoInStorage(video);
            
            // UI ni yangilash
            setTimeout(() => loadContent('video'), 1000);
          }
        } else {
          setTimeout(() => updateProgress(video, progressElement, progressFill, progressText, originalIndex), 1000);
        }
      }

      // LocalStorage dagi videoni yangilash
      function updateVideoInStorage(video) {
        let videos = JSON.parse(localStorage.getItem('videos')) || [];
        const index = videos.findIndex(v => v.id === video.id);
        if (index !== -1) {
          videos[index] = video;
          localStorage.setItem('videos', JSON.stringify(videos));
        }
      }

      // Video screenshot olish
      function getVideoScreenshot(videoUrl) {
        // Bu faqat placeholder, real loyihada video fayldan screenshot olish kerak
        return 'https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80';
      }

      // Playlistlarni yuklash
      function loadPlaylists() {
        contentDiv.innerHTML = `
          <div class="no-videos">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4 6h16M4 12h16M4 18h16" stroke="#8b98a5" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <h3>Pleyli bo ªlimi</h3>
            <p>Hali pleyli yaratilmagan</p>
            <button class="upload-first-btn" onclick="createPlaylist()">
              Pleyli yaratish
            </button>
          </div>
        `;
      }

      // Saqlangan videolarni yuklash
      function loadSavedVideos() {
        contentDiv.innerHTML = `
          <div class="no-videos">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3/2000/svg">
              <path d="M19 21l-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z" stroke="#8b98a5" stroke-width="2" fill="none"/>
            </svg>
            <h3>Saqlangan videolar</h3>
            <p>Hali hech narsa saqlanmagan</p>
            <button class="upload-first-btn" onclick="window.location.href='videopage.html'">
              Videolarni ko'rish
            </button>
          </div>
        `;
      }

      // Dastlabki yuklanishda aktiv tabni yuklash
      const activeTab = document.querySelector('.tab.active').dataset.tab;
      loadContent(activeTab);
    }

    // Global funksiyalar
    window.showUploadModal = function() {
      document.getElementById('uploadModal').classList.add('show');
      document.body.style.overflow = 'hidden';
    };

    window.createPlaylist = function() {
      const playlistName = prompt("Pleyli nomini kiriting:");
      if (playlistName) {
        alert(`"${playlistName}" pleyli yaratildi!`);
      }
    };

    // Demo videolarni yaratish (agar hali mavjud bo'lmasa)
    function initializeDemoVideos() {
      let videos = JSON.parse(localStorage.getItem('videos')) || [];
      
      if (videos.length === 0) {
        const demoVideos = [
          {
            id: Date.now() + 1,
            title: "O'zbekiston manzaralari 4K",
            description: "O'zbekistonning eng go'zal manzaralari to'plami. Tabiatning ajoyib go'zalligi",
            file: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4',
            thumbnail: 'https://images.unsplash.com/photo-1513326738677-b964603b136d?auto=format&fit=crop&w=1470&q=80',
            createdAt: new Date(Date.now() - 60 * 24 * 60 * 60 * 1000).toISOString(), // 60 kun oldin
            status: "uploaded",
            completed: true,
            views: "45,2 ming",
            timeAgo: "2 oy avval",
            likes: 1245,
            comments: 89,
            duration: "10:45"
          },
          {
            id: Date.now() + 2,
            title: "Toshkent shahri kechasi",
            description: "Toshkent shahrining ajoyib kecha manzaralari. Yorug'lik va hayot",
            file: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4',
            thumbnail: 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?auto=format&fit=crop&w=1470&q=80',
            createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(), // 7 kun oldin
            status: "uploaded",
            completed: true,
            views: "102,7 ming",
            timeAgo: "1 hafta avval",
            likes: 2345,
            comments: 156,
            duration: "15:20"
          }
        ];
        
        localStorage.setItem('videos', JSON.stringify(demoVideos));
      }
    }

    // Formatlash funksiyalari
    function formatNumber(num) {
      if (num >= 1000000) return (num / 1000000).toFixed(1).replace(/\.0$/, '') + 'M';
      if (num >= 1000) return (num / 1000).toFixed(1).replace(/\.0$/, '') + 'K';
      return num.toString();
    }

    function showNotification(message) {
      const old = document.querySelector('.notification');
      if (old) old.remove();
      
      const notification = document.createElement('div');
      notification.className = 'notification';
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.opacity = '0';
        setTimeout(() => notification.remove(), 300);
      }, 3000);
    }

    // Profil rasmini yuklash
    window.addEventListener('load', function() {
      const cover = document.getElementById('cover');
      const avatar = document.getElementById('avatar');
      
      // Demo rasmlar
      cover.style.backgroundImage = "linear-gradient(45deg, #1da1f2, #0c84d1)";
      avatar.style.backgroundImage = "url('https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=880&q=80')";
    });
  </script>
</body>
</html>