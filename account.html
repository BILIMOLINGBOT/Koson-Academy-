<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Twitter Profil - @javlonbek</title>
  <style>
    /* ... existing styles ... */

    /* Qo'shimcha yangi style'lar */
    .video-upload-time {
      position: absolute;
      top: 10px;
      right: 10px;
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      z-index: 2;
    }

    .video-duration {
      position: absolute;
      bottom: 10px;
      right: 10px;
      background: rgba(0, 0, 0, 0.9);
      color: #fff;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 12px;
      z-index: 2;
    }

    .video-upload-status {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 10px;
      padding: 8px;
      background: rgba(29, 161, 242, 0.1);
      border-radius: 8px;
      font-size: 14px;
    }

    .upload-progress-text {
      flex: 1;
      font-size: 12px;
      color: #1da1f2;
    }

    .video-actions {
      display: flex;
      gap: 10px;
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid #2f3336;
    }

    .video-action-btn {
      background: transparent;
      border: none;
      color: #8b98a5;
      display: flex;
      align-items: center;
      gap: 5px;
      cursor: pointer;
      padding: 6px 12px;
      border-radius: 4px;
      font-size: 12px;
      transition: all 0.2s;
    }

    .video-action-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      color: #1da1f2;
    }

    .video-action-btn svg {
      width: 14px;
      height: 14px;
    }

    /* Video player modal uchun */
    .video-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }

    .video-modal.show {
      display: flex;
    }

    .modal-content {
      width: 90%;
      max-width: 1000px;
      background: #000;
      border-radius: 12px;
      overflow: hidden;
      position: relative;
    }

    .modal-video-player {
      width: 100%;
      height: 0;
      padding-bottom: 56.25%;
      background: #000;
      position: relative;
    }

    .modal-video-player video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .modal-close-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.7);
      border: none;
      color: #fff;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 10;
      font-size: 20px;
    }

    .modal-close-btn:hover {
      background: rgba(0, 0, 0, 0.9);
    }

    .modal-video-info {
      padding: 20px;
      color: #fff;
    }

    .modal-video-title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .modal-video-description {
      color: #8b98a5;
      line-height: 1.5;
      margin-bottom: 20px;
    }

    .modal-video-meta {
      display: flex;
      gap: 20px;
      font-size: 14px;
      color: #8b98a5;
    }

    /* Upload modal uchun */
    .upload-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }

    .upload-modal.show {
      display: flex;
    }

    /* Rasm tanlash uchun */
    .thumbnail-preview {
      width: 100%;
      height: 200px;
      background: #333;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 15px;
      position: relative;
      cursor: pointer;
    }

    .thumbnail-preview img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .thumbnail-preview input {
      display: none;
    }

    .thumbnail-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-size: 14px;
    }

    /* ... existing media queries ... */
  </style>
</head>
<body>

  <div class="container">
    <div class="header">
      <div class="cover" id="cover"></div>
      <div class="avatar" id="avatar"></div>
    </div>

    <div class="profile-info">
      <button class="edit-btn" id="editBtn">Tahrirlash</button>
      <h2 id="profileName">Rashidov Javlonbek</h2>
      <p class="username" id="profileUsername">@javlonbek</p>
      <p class="location" id="profileLocation">O'zbekiston, Toshkent</p>
      <p class="bio" id="profileBio">üé¨ Video muxlisi | ‚úçÔ∏è Kontent yaratuvchi | üìà Digital marketolog | üéØ Videolar bilan dunyoni o'zgartirish istagida</p>
      <div class="follow-info">
        <span><strong id="videoCount">12</strong> Video</span>
        <span><strong>120</strong> Kuzatilmoqda</span>
        <span><strong>3,245</strong> Kuzatuvchilar</span>
      </div>
    </div>

    <div class="tabs">
      <div class="tab active" data-tab="video">üìπ Video</div>
      <div class="tab" data-tab="pleyli">üéµ Pleyli</div>
      <div class="tab" data-tab="saqlangan">üíæ Saqlangan</div>
    </div>

    <div class="content" id="content">
      <!-- Videolar bu yerga yuklanadi -->
    </div>
  </div>

  <!-- Video ko'rish uchun modal -->
  <div class="video-modal" id="videoModal">
    <div class="modal-content">
      <button class="modal-close-btn" id="modalCloseBtn">√ó</button>
      <div class="modal-video-player" id="modalVideoPlayer">
        <!-- Video bu yerga yuklanadi -->
      </div>
      <div class="modal-video-info" id="modalVideoInfo">
        <!-- Video ma'lumotlari bu yerga yuklanadi -->
      </div>
    </div>
  </div>

  <!-- Video yuklash uchun modal -->
  <div class="upload-modal" id="uploadModal">
    <div class="video-modal-content">
      <div class="video-modal-header">
        <button class="video-cancel-btn" id="uploadModalCancelBtn">Bekor qilish</button>
        <div class="video-modal-title">Yangi video yuklash</div>
        <div style="width: 60px;"></div>
      </div>
      <div class="video-form-container">
        <div class="video-form-group">
          <div class="video-preview" id="videoPreview">
            <div class="video-preview-placeholder">
              <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14 2H6C4.9 2 4.01 2.9 4.01 4L4 20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM6 20V4H13V9H18V20H6Z" fill="currentColor"/>
                <path d="M8 12H16V14H8V12ZM8 16H16V18H8V16Z" fill="currentColor"/>
              </svg>
              Video yuklang
              <button class="upload-video-btn" id="uploadModalVideoBtn">Video yuklash</button>
            </div>
          </div>
        </div>
        
        <div class="video-form-group">
          <div class="thumbnail-preview" id="thumbnailPreview">
            <div class="thumbnail-overlay">Thumbnail tanlash uchun bosing</div>
            <input type="file" id="thumbnailInput" accept="image/*">
          </div>
        </div>
        
        <div class="video-form-group">
          <input type="text" id="uploadVideoTitle" placeholder="Video sarlavhasi...">
        </div>
        
        <div class="video-form-group">
          <textarea id="uploadVideoDescription" placeholder="Video tavsifi..."></textarea>
        </div>
        
        <button class="upload-action-btn" id="uploadModalSubmitBtn" disabled>Yuklash</button>
      </div>
    </div>
  </div>

  <!-- Yangi post tugmasi (o'ng pastda +) -->
  <button class="compose-btn" id="composeBtn" aria-label="Yangi video yuklash">
    +
  </button>

  <!-- Input fayllar -->
  <input type="file" id="videoInput" accept="video/*" style="display: none;">
  <input type="file" id="modalVideoInput" accept="video/*" style="display: none;">

  <script>
    // ========== INITIALIZATION ==========
    document.addEventListener('DOMContentLoaded', function() {
      initializeApp();
    });

    function initializeApp() {
      // Demo videolarni yaratish (agar hali mavjud bo'lmasa)
      initializeDemoVideos();
      
      // UI elementlarni olish
      const editBtn = document.getElementById('editBtn');
      const composeBtn = document.getElementById('composeBtn');
      const tabs = document.querySelectorAll('.tab');
      const contentDiv = document.getElementById('content');
      const videoCountSpan = document.getElementById('videoCount');
      const videoModal = document.getElementById('videoModal');
      const modalCloseBtn = document.getElementById('modalCloseBtn');
      const modalVideoPlayer = document.getElementById('modalVideoPlayer');
      const modalVideoInfo = document.getElementById('modalVideoInfo');
      const uploadModal = document.getElementById('uploadModal');
      const uploadModalCancelBtn = document.getElementById('uploadModalCancelBtn');
      const uploadModalVideoBtn = document.getElementById('uploadModalVideoBtn');
      const uploadModalSubmitBtn = document.getElementById('uploadModalSubmitBtn');
      const uploadVideoTitle = document.getElementById('uploadVideoTitle');
      const uploadVideoDescription = document.getElementById('uploadVideoDescription');
      const thumbnailPreview = document.getElementById('thumbnailPreview');
      const thumbnailInput = document.getElementById('thumbnailInput');
      const modalVideoInput = document.getElementById('modalVideoInput');
      
      let selectedVideoFile = null;
      let selectedThumbnailFile = null;
      let videoUrl = null;

      // Profil tahrirlash tugmasi
      editBtn.addEventListener('click', function() {
        alert("Profil tahrirlash sahifasi ishlab chiqilmoqda. Tez orada!");
      });

      // Yangi video yuklash tugmasi
      composeBtn.addEventListener('click', function() {
        uploadModal.classList.add('show');
        document.body.style.overflow = 'hidden';
      });

      // Yuklash modalini yopish
      uploadModalCancelBtn.addEventListener('click', function() {
        uploadModal.classList.remove('show');
        document.body.style.overflow = 'auto';
        resetUploadForm();
      });

      // Video tanlash
      uploadModalVideoBtn.addEventListener('click', function() {
        modalVideoInput.click();
      });

      modalVideoInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
          // Fayl hajmini tekshirish
          if (file.size > 500 * 1024 * 1024) {
            alert('Video hajmi 500MB dan katta bo\'lmasligi kerak!');
            modalVideoInput.value = '';
            return;
          }

          selectedVideoFile = file;
          
          // Video preview yaratish
          const reader = new FileReader();
          reader.onload = function(ev) {
            videoUrl = ev.target.result;
            
            // Video preview
            const videoElement = document.createElement('video');
            videoElement.src = videoUrl;
            videoElement.controls = true;
            videoElement.style.width = '100%';
            videoElement.style.height = '100%';
            videoElement.style.objectFit = 'contain';
            
            const preview = document.getElementById('videoPreview');
            preview.innerHTML = '';
            preview.appendChild(videoElement);
            
            // Avtomatik thumbnail yaratish (video birinchi kadrdan)
            createThumbnailFromVideo(videoElement);
            
            // Agar sarlavha kiritilmagan bo'lsa, fayl nomidan foydalanish
            if (!uploadVideoTitle.value.trim()) {
              const fileName = file.name.replace(/\.[^/.]+$/, "");
              uploadVideoTitle.value = fileName;
            }
            
            checkUploadForm();
          };
          reader.readAsDataURL(file);
        }
      });

      // Thumbnail tanlash
      thumbnailPreview.addEventListener('click', function() {
        thumbnailInput.click();
      });

      thumbnailInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
          selectedThumbnailFile = file;
          const reader = new FileReader();
          reader.onload = function(ev) {
            thumbnailPreview.innerHTML = `
              <img src="${ev.target.result}" alt="Thumbnail">
              <div class="thumbnail-overlay">Thumbnailni almashtirish</div>
            `;
          };
          reader.readAsDataURL(file);
        }
      });

      // Form to'ldirilganligini tekshirish
      uploadVideoTitle.addEventListener('input', checkUploadForm);
      uploadVideoDescription.addEventListener('input', checkUploadForm);

      function checkUploadForm() {
        const title = uploadVideoTitle.value.trim();
        uploadModalSubmitBtn.disabled = !(title && selectedVideoFile);
      }

      // Video yuklash
      uploadModalSubmitBtn.addEventListener('click', function() {
        if (!selectedVideoFile) {
          alert('Iltimos, video faylini tanlang!');
          return;
        }

        const title = uploadVideoTitle.value.trim();
        if (!title) {
          alert('Iltimos, video sarlavhasini kiriting!');
          uploadVideoTitle.focus();
          return;
        }

        // Yuklash jarayoni
        uploadModalSubmitBtn.textContent = 'Yuklanmoqda...';
        uploadModalSubmitBtn.disabled = true;

        // Thumbnail yaratish
        let thumbnailDataUrl = '';
        if (selectedThumbnailFile) {
          const reader = new FileReader();
          reader.onload = function(ev) {
            thumbnailDataUrl = ev.target.result;
            completeUpload(title, thumbnailDataUrl);
          };
          reader.readAsDataURL(selectedThumbnailFile);
        } else {
          // Agar thumbnail tanlanmagan bo'lsa, video preview'dan olish
          const videoElement = document.querySelector('#videoPreview video');
          if (videoElement) {
            const canvas = document.createElement('canvas');
            canvas.width = 320;
            canvas.height = 180;
            const ctx = canvas.getContext('2d');
            
            // Videoni 0.1 soniyada pause qilib screenshot olish
            videoElement.currentTime = 0.1;
            videoElement.onseeked = function() {
              ctx.drawImage(videoElement, 0, 0, canvas.width, canvas.height);
              thumbnailDataUrl = canvas.toDataURL('image/jpeg');
              completeUpload(title, thumbnailDataUrl);
            };
          } else {
            completeUpload(title, '');
          }
        }
      });

      function completeUpload(title, thumbnail) {
        // Yangi video obyekti yaratish
        const newVideo = {
          id: Date.now(),
          title: title,
          description: uploadVideoDescription.value.trim(),
          file: videoUrl,
          thumbnail: thumbnail,
          createdAt: new Date().toISOString(),
          uploadedAt: new Date().getTime(),
          status: 'uploading',
          completed: false,
          startTime: Date.now(),
          totalTime: 30000, // 30 soniya
          views: "0",
          timeAgo: "hozirgina",
          likes: 0,
          comments: 0,
          fileName: selectedVideoFile.name,
          fileSize: (selectedVideoFile.size / (1024 * 1024)).toFixed(2) + ' MB',
          duration: '0:00',
          isLocal: true
        };

        // LocalStorage ga video qo'shish
        let videos = JSON.parse(localStorage.getItem('videos')) || [];
        videos.push(newVideo);
        localStorage.setItem('videos', JSON.stringify(videos));

        // Modalni yopish
        setTimeout(() => {
          uploadModal.classList.remove('show');
          document.body.style.overflow = 'auto';
          resetUploadForm();
          
          // Kontentni yangilash
          loadContent('video');
          
          // Yuklash tugmasini qayta tiklash
          uploadModalSubmitBtn.textContent = 'Yuklash';
          uploadModalSubmitBtn.disabled = false;
          
          showNotification('Video yuklandi!');
        }, 1000);
      }

      function resetUploadForm() {
        selectedVideoFile = null;
        selectedThumbnailFile = null;
        videoUrl = null;
        uploadVideoTitle.value = '';
        uploadVideoDescription.value = '';
        
        const preview = document.getElementById('videoPreview');
        preview.innerHTML = `
          <div class="video-preview-placeholder">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M14 2H6C4.9 2 4.01 2.9 4.01 4L4 20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM6 20V4H13V9H18V20H6Z" fill="currentColor"/>
              <path d="M8 12H16V14H8V12ZM8 16H16V18H8V16Z" fill="currentColor"/>
            </svg>
            Video yuklang
            <button class="upload-video-btn" id="uploadModalVideoBtn">Video yuklash</button>
          </div>
        `;
        
        thumbnailPreview.innerHTML = `
          <div class="thumbnail-overlay">Thumbnail tanlash uchun bosing</div>
          <input type="file" id="thumbnailInput" accept="image/*">
        `;
        
        // Event listenerlarni qayta ulash
        document.getElementById('uploadModalVideoBtn').addEventListener('click', function() {
          modalVideoInput.click();
        });
      }

      function createThumbnailFromVideo(videoElement) {
        const canvas = document.createElement('canvas');
        canvas.width = 320;
        canvas.height = 180;
        const ctx = canvas.getContext('2d');
        
        videoElement.currentTime = 0.1;
        videoElement.onseeked = function() {
          ctx.drawImage(videoElement, 0, 0, canvas.width, canvas.height);
          const thumbnail = canvas.toDataURL('image/jpeg');
          
          // Thumbnail preview'ga qo'yish
          thumbnailPreview.innerHTML = `
            <img src="${thumbnail}" alt="Thumbnail">
            <div class="thumbnail-overlay">Thumbnailni almashtirish</div>
          `;
        };
      }

      
        // Modalni ochish
        videoModal.classList.add('show');
        document.body.style.overflow = 'hidden';
        
        // Ko'rishlar sonini oshirish
        if (video.views) {
          const viewsNum = parseInt(video.views.replace(/[^\d]/g, ''));
          if (!isNaN(viewsNum)) {
            video.views = formatNumber(viewsNum + 1);
          }
        } else {
          video.views = "1";
        }
        
        // LocalStorage ni yangilash
        updateVideoInStorage(video);
      }

      // Videoni ulashish
      function shareVideo(video) {
        if (navigator.share) {
          navigator.share({
            title: video.title,
            text: video.description,
            url: window.location.href + '?video=' + video.id
          });
        } else {
          navigator.clipboard.writeText(video.title + ' - ' + window.location.href)
            .then(() => showNotification('Havola nusxalandi!'))
            .catch(() => alert('Havolani nusxalashda xatolik'));
        }
      }

      // Videoni o'chirish
      function deleteVideo(videoId, index) {
        if (confirm("Bu videoni o'chirishni istaysizmi?")) {
          let videos = JSON.parse(localStorage.getItem('videos')) || [];
          videos = videos.filter(v => v.id !== videoId);
          localStorage.setItem('videos', JSON.stringify(videos));
          
          loadContent('video');
          showNotification('Video o\'chirildi');
        }
      }

      // Progressni yangilash funksiyasi
      function updateProgress(video, progressElement, progressFill, progressText, originalIndex) {
        if (!video.startTime) return;
        
        const now = Date.now();
        const elapsed = now - video.startTime;
        const total = video.totalTime || 30000;
        const progress = Math.min(100, (elapsed / total) * 100);
        
        // Progress fill ni yangilash
        progressFill.style.width = `${progress}%`;
        
        const remainingSeconds = Math.max(0, (total - elapsed) / 1000);
        const remainingMinutes = Math.floor(remainingSeconds / 60);
        const remainingSecs = Math.floor(remainingSeconds % 60);
        
        // Progress text ni yangilash
        progressText.textContent = `${Math.floor(progress)}% ‚Ä¢ ${remainingMinutes} daqiqa ${remainingSecs} soniya qoldi`;
        
        if (progress >= 100) {
          // Yuklash tugaganda statusni yangilash
          video.status = 'uploaded';
          video.completed = true;
          
          // Video davomiyligini o'lchash
          if (video.file) {
            const videoElement = document.createElement('video');
            videoElement.src = video.file;
            videoElement.onloadedmetadata = function() {
              const duration = videoElement.duration;
              const minutes = Math.floor(duration / 60);
              const seconds = Math.floor(duration % 60);
              video.duration = `${minutes}:${seconds.toString().padStart(2, '0')}`;
              
              // LocalStorage ni yangilash
              updateVideoInStorage(video);
              
              // UI ni yangilash
              setTimeout(() => loadContent('video'), 1000);
            };
          } else {
            // LocalStorage ni yangilash
            updateVideoInStorage(video);
            
            // UI ni yangilash
            setTimeout(() => loadContent('video'), 1000);
          }
        } else {
          setTimeout(() => updateProgress(video, progressElement, progressFill, progressText, originalIndex), 1000);
        }
      }

      // LocalStorage dagi videoni yangilash
      function updateVideoInStorage(video) {
        let videos = JSON.parse(localStorage.getItem('videos')) || [];
        const index = videos.findIndex(v => v.id === video.id);
        if (index !== -1) {
          videos[index] = video;
          localStorage.setItem('videos', JSON.stringify(videos));
        }
      }

      // Playlistlarni yuklash
      function loadPlaylists() {
        contentDiv.innerHTML = `
          <div class="no-videos">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4 6h16M4 12h16M4 18h16" stroke="#8b98a5" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <h3>Pleyli bo ªlimi</h3>
            <p>Hali pleyli yaratilmagan</p>
            <button class="upload-first-btn" onclick="createPlaylist()">
              Pleyli yaratish
            </button>
          </div>
        `;
      }

      // Saqlangan videolarni yuklash
      function loadSavedVideos() {
        contentDiv.innerHTML = `
          <div class="no-videos">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M19 21l-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z" stroke="#8b98a5" stroke-width="2" fill="none"/>
            </svg>
            <h3>Saqlangan videolar</h3>
            <p>Hali hech narsa saqlanmagan</p>
            <button class="upload-first-btn" onclick="window.location.href='videopage.html'">
              Videolarni ko'rish
            </button>
          </div>
        `;
      }

      // Dastlabki yuklanishda aktiv tabni yuklash
      const activeTab = document.querySelector('.tab.active').dataset.tab;
      loadContent(activeTab);
    }

    // Global funksiyalar
    window.showUploadModal = function() {
      document.getElementById('uploadModal').classList.add('show');
      document.body.style.overflow = 'hidden';
    };

    window.createPlaylist = function() {
      const playlistName = prompt("Pleyli nomini kiriting:");
      if (playlistName) {
        alert(`"${playlistName}" pleyli yaratildi!`);
      }
    };

    // Demo videolarni yaratish (agar hali mavjud bo'lmasa)
    function initializeDemoVideos() {
      let videos = JSON.parse(localStorage.getItem('videos')) || [];
      
      if (videos.length === 0) {
        const demoVideos = [
          {
            id: Date.now() + 1,
            title: "O'zbekiston manzaralari 4K",
            description: "O'zbekistonning eng go'zal manzaralari to'plami. Tabiatning ajoyib go'zalligi",
            file: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4',
            thumbnail: 'https://images.unsplash.com/photo-1513326738677-b964603b136d?auto=format&fit=crop&w=1470&q=80',
            createdAt: "2025-01-15T10:30:00Z",
            status: "uploaded",
            completed: true,
            views: "45,2 ming",
            timeAgo: "2 oy avval",
            likes: 1245,
            comments: 89,
            duration: "10:45"
          },
          {
            id: Date.now() + 2,
            title: "Toshkent shahri kechasi",
            description: "Toshkent shahrining ajoyib kecha manzaralari. Yorug'lik va hayot",
            file: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4',
            thumbnail: 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?auto=format&fit=crop&w=1470&q=80',
            createdAt: "2025-01-10T14:20:00Z",
            status: "uploaded",
            completed: true,
            views: "102,7 ming",
            timeAgo: "1 hafta avval",
            likes: 2345,
            comments: 156,
            duration: "15:20"
          },
          {
            id: Date.now() + 3,
            title: "Samarqand - Tarixiy me'moriy yodgorliklar",
            description: "Samarqand shahrining noyob me'moriy yodgorliklari. Registon maydoni",
            file: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4',
            thumbnail: 'https://images.unsplash.com/photo-1588666309990-d68f08e3d4c6?auto=format&fit=crop&w=1470&q=80',
            createdAt: new Date().toISOString(),
            status: "uploading",
            completed: false,
            startTime: Date.now() - 15000,
            totalTime: 60000,
            views: "0",
            timeAgo: "hozirgina",
            likes: 0,
            comments: 0,
            duration: "8:30"
          }
        ];
        
        localStorage.setItem('videos', JSON.stringify(demoVideos));
      }
    }

    // Formatlash funksiyalari
    function formatNumber(num) {
      if (num >= 1000000) return (num / 1000000).toFixed(1).replace(/\.0$/, '') + 'M';
      if (num >= 1000) return (num / 1000).toFixed(1).replace(/\.0$/, '') + 'K';
      return num.toString();
    }

    function showNotification(message) {
      const old = document.querySelector('.notification');
      if (old) old.remove();
      
      const notification = document.createElement('div');
      notification.className = 'notification';
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.opacity = '0';
        setTimeout(() => notification.remove(), 300);
      }, 3000);
    }

    // Profil rasmini yuklash
    window.addEventListener('load', function() {
      const cover = document.getElementById('cover');
      const avatar = document.getElementById('avatar');
      
      // Demo rasmlar
      cover.style.backgroundImage = "linear-gradient(45deg, #1da1f2, #0c84d1)";
      avatar.style.backgroundImage = "url('https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=880&q=80')";
    });
  </script>
</body>
</html>