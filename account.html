<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Twitter Profil - @javlonbek</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }

    body {
      background-color: #000;
      color: #fff;
      display: flex;
      justify-content: center;
      position: relative;
    }

    .container {
      width: 600px;
      border-left: 1px solid #2f3336;
      border-right: 1px solid #2f3336;
      min-height: 100vh;
      background-color: #000;
    }

    .header {
      position: relative;
    }

    .cover {
      width: 100%;
      height: 200px;
      background: linear-gradient(45deg, #1da1f2, #0c84d1);
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .cover::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(transparent 60%, rgba(0,0,0,0.5));
    }

    .avatar {
      position: absolute;
      bottom: -50px;
      left: 20px;
      width: 100px;
      height: 100px;
      border: 4px solid #000;
      border-radius: 50%;
      background: url('https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=880&q=80') no-repeat center/cover;
      cursor: pointer;
      z-index: 2;
    }

    .profile-info {
      padding: 60px 20px 20px;
      position: relative;
    }

    .edit-btn {
      position: absolute;
      top: 20px;
      right: 20px;
      background-color: transparent;
      color: #fff;
      border: 1px solid #536471;
      border-radius: 20px;
      padding: 8px 16px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
      z-index: 2;
    }

    .edit-btn:hover {
      background-color: rgba(255, 255, 255, 0.1);
      border-color: #1da1f2;
    }

    .profile-info h2 {
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 2px;
    }

    .username {
      color: #8b98a5;
      font-size: 16px;
      margin-bottom: 8px;
    }

    .location {
      color: #fff;
      font-size: 15px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .location::before {
      content: 'üìç';
    }

    .bio {
      color: #fff;
      font-size: 15px;
      margin-bottom: 15px;
      line-height: 1.5;
    }

    .follow-info {
      display: flex;
      gap: 20px;
      margin-top: 10px;
      font-size: 15px;
      flex-wrap: wrap;
    }

    .follow-info span strong {
      color: #fff;
      font-weight: 700;
    }

    .follow-info span {
      color: #8b98a5;
      cursor: pointer;
      transition: color 0.2s;
    }

    .follow-info span:hover {
      color: #1da1f2;
    }

    .tabs {
      display: flex;
      border-bottom: 1px solid #2f3336;
      margin-top: 20px;
    }

    .tab {
      flex: 1;
      text-align: center;
      padding: 15px 0;
      font-size: 15px;
      font-weight: 500;
      color: #8b98a5;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }

    .tab.active {
      color: #fff;
    }

    .tab.active::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      right: 0;
      height: 2px;
      background-color: #1da1f2;
    }

    .tab:hover {
      background-color: rgba(255, 255, 255, 0.05);
      color: #fff;
    }

    .content {
      padding: 20px;
      min-height: 300px;
    }

    .video-item {
      background-color: #1a1a1a;
      border-radius: 12px;
      padding: 15px;
      margin-bottom: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 1px solid #2f3336;
      position: relative;
      overflow: hidden;
    }

    .video-item:hover {
      background-color: #222;
      transform: translateY(-2px);
      border-color: #1da1f2;
      box-shadow: 0 4px 12px rgba(29, 161, 242, 0.2);
    }

    .video-item h3 {
      font-size: 18px;
      margin-bottom: 8px;
      color: #fff;
      line-height: 1.4;
    }

    .video-item p {
      font-size: 14px;
      color: #8b98a5;
      line-height: 1.4;
      margin-bottom: 10px;
    }

    .video-thumb {
      width: 100%;
      height: 180px;
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 12px;
      background-color: #333;
      position: relative;
    }

    .video-thumb video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 8px;
      transition: transform 0.3s ease;
    }

    .video-item:hover .video-thumb video {
      transform: scale(1.05);
    }

    .video-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 1;
      transition: opacity 0.3s ease;
      border-radius: 8px;
    }

    .video-item:hover .video-overlay {
      opacity: 0;
    }

    .video-overlay svg {
      width: 48px;
      height: 48px;
      fill: #fff;
      filter: drop-shadow(0 2px 8px rgba(0,0,0,0.5));
    }

    .video-meta {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-top: 10px;
      font-size: 12px;
      color: #8b98a5;
    }

    .video-meta span {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .progress {
      color: #1da1f2;
      font-size: 14px;
      margin-top: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .progress-bar {
      flex: 1;
      height: 4px;
      background-color: #2f3336;
      border-radius: 2px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #1da1f2, #0c84d1);
      transition: width 0.3s ease;
      border-radius: 2px;
    }

    .no-videos {
      text-align: center;
      padding: 60px 20px;
      color: #8b98a5;
    }

    .no-videos svg {
      width: 64px;
      height: 64px;
      margin-bottom: 20px;
      opacity: 0.5;
    }

    .no-videos h3 {
      font-size: 18px;
      margin-bottom: 10px;
      color: #fff;
    }

    .no-videos p {
      font-size: 14px;
      margin-bottom: 20px;
    }

    .upload-first-btn {
      background-color: #1da1f2;
      color: #fff;
      border: none;
      border-radius: 20px;
      padding: 10px 20px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.2s;
    }

    .upload-first-btn:hover {
      background-color: #0c84d1;
      transform: translateY(-2px);
    }

    .compose-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: linear-gradient(45deg, #1da1f2, #0c84d1);
      color: #fff;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      font-size: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(29, 161, 242, 0.4);
      transition: all 0.3s ease;
      z-index: 1000;
      border: none;
    }

    .compose-btn:hover {
      transform: scale(1.1) rotate(90deg);
      box-shadow: 0 6px 25px rgba(29, 161, 242, 0.6);
    }

    .compose-btn:active {
      transform: scale(0.95);
    }

    @media (max-width: 640px) {
      .container {
        width: 100%;
        border: none;
      }
      
      .compose-btn {
        bottom: 20px;
        right: 20px;
        width: 56px;
        height: 56px;
        font-size: 28px;
      }
      
      .video-item {
        margin-bottom: 12px;
        padding: 12px;
      }
      
      .video-thumb {
        height: 160px;
      }
      
      .profile-info {
        padding: 50px 15px 15px;
      }
      
      .cover {
        height: 180px;
      }
      
      .avatar {
        width: 80px;
        height: 80px;
        bottom: -40px;
      }
    }

    @media (max-width: 400px) {
      .follow-info {
        gap: 10px;
      }
      
      .video-meta {
        flex-wrap: wrap;
        gap: 8px;
      }
      
      .video-thumb {
        height: 140px;
      }
    }
  </style>
</head>
<body>

  <div class="container">
    <div class="header">
      <div class="cover" id="cover"></div>
      <div class="avatar" id="avatar"></div>
    </div>

    <div class="profile-info">
      <button class="edit-btn" id="editBtn">Tahrirlash</button>
      <h2 id="profileName">Rashidov Javlonbek</h2>
      <p class="username" id="profileUsername">@javlonbek</p>
      <p class="location" id="profileLocation">O'zbekiston, Toshkent</p>
      <p class="bio" id="profileBio">üé¨ Video muxlisi | ‚úçÔ∏è Kontent yaratuvchi | üìà Digital marketolog | üéØ Videolar bilan dunyoni o'zgartirish istagida</p>
      <div class="follow-info">
        <span><strong id="videoCount">12</strong> Video</span>
        <span><strong>120</strong> Kuzatilmoqda</span>
        <span><strong>3,245</strong> Kuzatuvchilar</span>
      </div>
    </div>

    <div class="tabs">
      <div class="tab active" data-tab="video">üìπ Video</div>
      <div class="tab" data-tab="pleyli">üéµ Pleyli</div>
      <div class="tab" data-tab="saqlangan">üíæ Saqlangan</div>
    </div>

    <div class="content" id="content">
      <!-- Videolar bu yerga yuklanadi -->
    </div>
  </div>

  <button class="compose-btn" id="composeBtn" aria-label="Yangi video yuklash">
    +
  </button>

  <script>
    // ========== INITIALIZATION ==========
    document.addEventListener('DOMContentLoaded', function() {
      initializeApp();
    });

    function initializeApp() {
      // Demo videolarni yaratish
      initializeDemoVideos();
      
      const editBtn = document.getElementById('editBtn');
      const composeBtn = document.getElementById('composeBtn');
      const tabs = document.querySelectorAll('.tab');
      const contentDiv = document.getElementById('content');
      const videoCountSpan = document.getElementById('videoCount');
      
      // Profil tahrirlash
      editBtn.addEventListener('click', function() {
        alert("Profil tahrirlash sahifasi ishlab chiqilmoqda. Tez orada!");
      });

      // Yangi video yuklash
      composeBtn.addEventListener('click', function() {
        window.location.href = 'update.html';
      });

      // Tablar
      function loadContent(tabName) {
        contentDiv.innerHTML = '';
        
        switch(tabName) {
          case 'video':
            loadVideos();
            break;
          case 'pleyli':
            loadPlaylists();
            break;
          case 'saqlangan':
            loadSavedVideos();
            break;
        }
      }

      // Videolarni yuklash
      function loadVideos() {
        let videos = JSON.parse(localStorage.getItem('videos')) || [];
        
        videoCountSpan.textContent = videos.length;
        
        if (videos.length === 0) {
          contentDiv.innerHTML = `
            <div class="no-videos">
              <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14 2H6C4.9 2 4.01 2.9 4.01 4L4 20C4 21.1 4.89 22 5.99 22H18C19.1 22 20 21.1 20 20V8L14 2ZM6 20V4H13V9H18V20H6Z" fill="#8b98a5"/>
                <path d="M8 12H16V14H8V12ZM8 16H16V18H8V16Z" fill="#8b98a5"/>
              </svg>
              <h3>Hech qanday video yo ªq</h3>
              <p>Birinchi video yuklash uchun + tugmasini bosing</p>
              <button class="upload-first-btn" onclick="window.location.href='update.html'">
                Birinchi video yuklash
              </button>
            </div>
          `;
          return;
        }
        
        // Videolarni teskarisi tartibda ko'rsatish
        videos.reverse().forEach((video, index) => {
          const videoDiv = document.createElement('div');
          videoDiv.className = 'video-item';
          videoDiv.dataset.videoId = video.id;
          
          // Video container
          const videoContainer = document.createElement('div');
          videoContainer.className = 'video-thumb';
          
          // Video element yaratish
          const videoElement = document.createElement('video');
          
          // Video manbaani o'rnatish
          if (video.videoUrl) {
            videoElement.src = video.videoUrl;
          } else if (video.videoData) {
            // Agar base64 formatda saqlangan bo'lsa
            videoElement.src = video.videoData;
          } else {
            // Demo video
            videoElement.src = 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4';
          }
          
          videoElement.poster = video.thumbnail || 'https://images.unsplash.com/photo-1571330735066-03aaa9429d89?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80';
          videoElement.controls = false;
          videoElement.muted = true;
          videoElement.loop = true;
          videoElement.preload = 'metadata';
          
          // Hover effekti
          videoDiv.addEventListener('mouseenter', function() {
            videoElement.play().catch(e => console.log("Video play error:", e));
          });
          
          videoDiv.addEventListener('mouseleave', function() {
            videoElement.pause();
            videoElement.currentTime = 0;
          });
          
          videoContainer.appendChild(videoElement);
          
          // Play overlay
          const overlayDiv = document.createElement('div');
          overlayDiv.className = 'video-overlay';
          overlayDiv.innerHTML = `
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8 5v14l11-7z" fill="#fff"/>
            </svg>
          `;
          videoContainer.appendChild(overlayDiv);
          
          videoDiv.appendChild(videoContainer);
          
          // Video sarlavhasi
          const titleH3 = document.createElement('h3');
          titleH3.textContent = video.title || 'Nomsiz video';
          videoDiv.appendChild(titleH3);
          
          // Video tavsifi
          if (video.description) {
            const descP = document.createElement('p');
            const shortDesc = video.description.length > 100 
              ? video.description.substring(0, 100) + '...' 
              : video.description;
            descP.textContent = shortDesc;
            videoDiv.appendChild(descP);
          }
          
          // Video meta ma'lumotlari
          const metaDiv = document.createElement('div');
          metaDiv.className = 'video-meta';
          
          const viewsSpan = document.createElement('span');
          viewsSpan.innerHTML = `<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#8b98a5"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg> ${video.views || '0'}`;
          
          const timeSpan = document.createElement('span');
          timeSpan.innerHTML = `<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#8b98a5"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> ${video.timeAgo || 'hozirgina'}`;
          
          const likesSpan = document.createElement('span');
          likesSpan.innerHTML = `<svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="#8b98a5"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg> ${video.likes || 0}`;
          
          metaDiv.appendChild(viewsSpan);
          metaDiv.appendChild(timeSpan);
          metaDiv.appendChild(likesSpan);
          videoDiv.appendChild(metaDiv);
          
          // Yuklanayotgan video uchun progress bar
          if (video.status === 'uploading') {
            const progressDiv = document.createElement('div');
            progressDiv.className = 'progress';
            
            const progressText = document.createElement('span');
            progressText.className = 'progress-text';
            progressText.textContent = '0% ‚Ä¢ 0 daqiqa 30 soniya qoldi';
            
            const progressBar = document.createElement('div');
            progressBar.className = 'progress-bar';
            
            const progressFill = document.createElement('div');
            progressFill.className = 'progress-fill';
            progressBar.appendChild(progressFill);
            
            progressDiv.appendChild(progressText);
            progressDiv.appendChild(progressBar);
            videoDiv.appendChild(progressDiv);
            
            updateProgress(video, progressText, progressFill, videos.length - 1 - index);
          }
          
          // Video bosilganda videopage ga o'tish
          videoDiv.addEventListener('click', function(e) {
            if (!e.target.closest('.progress')) {
              // Video ma'lumotlarini localStorage ga saqlash
              localStorage.setItem('currentVideo', JSON.stringify(video));
              
              // Videopage sahifasiga o'tish
              window.location.href = 'videopage.html';
            }
          });
          
          contentDiv.appendChild(videoDiv);
        });
      }

      // Progressni yangilash
      function updateProgress(video, progressText, progressFill, originalIndex) {
        const now = Date.now();
        const elapsed = now - (video.startTime || now);
        const total = video.totalTime || 30000;
        const progress = Math.min(100, (elapsed / total) * 100);
        
        progressFill.style.width = `${progress}%`;
        
        const remainingSeconds = Math.max(0, (total - elapsed) / 1000);
        const remainingMinutes = Math.floor(remainingSeconds / 60);
        const remainingSecs = Math.floor(remainingSeconds % 60);
        
        progressText.textContent = `${Math.floor(progress)}% ‚Ä¢ ${remainingMinutes} daqiqa ${remainingSecs} soniya qoldi`;
        
        if (progress >= 100) {
          // Yuklash tugaganda statusni yangilash
          video.status = 'uploaded';
          video.completed = true;
          
          // LocalStorage ni yangilash
          const videos = JSON.parse(localStorage.getItem('videos')) || [];
          if (videos[originalIndex]) {
            videos[originalIndex] = video;
            localStorage.setItem('videos', JSON.stringify(videos));
          }
          
          // UI ni yangilash
          setTimeout(() => loadContent('video'), 1000);
        } else {
          setTimeout(() => updateProgress(video, progressText, progressFill, originalIndex), 1000);
        }
      }

      
      // Playlistlarni yuklash
      function loadPlaylists() {
        contentDiv.innerHTML = `
          <div class="no-videos">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M4 6h16M4 12h16M4 18h16" stroke="#8b98a5" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <h3>Pleyli bo ªlimi</h3>
            <p>Hali pleyli yaratilmagan</p>
            <button class="upload-first-btn" onclick="createPlaylist()">
              Pleyli yaratish
            </button>
          </div>
        `;
      }

      // Saqlangan videolarni yuklash
      function loadSavedVideos() {
        contentDiv.innerHTML = `
          <div class="no-videos">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M19 21l-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z" stroke="#8b98a5" stroke-width="2" fill="none"/>
            </svg>
            <h3>Saqlangan videolar</h3>
            <p>Hali hech narsa saqlanmagan</p>
            <button class="upload-first-btn" onclick="window.location.href='videopage.html'">
              Videolarni ko'rish
            </button>
          </div>
        `;
      }
      
      // Dastlabki yuklanishda aktiv tabni yuklash
      const activeTab = document.querySelector('.tab.active').dataset.tab;
      loadContent(activeTab);
      
      // Tablar uchun event listener
      tabs.forEach(tab => {
        tab.addEventListener('click', function() {
          tabs.forEach(t => t.classList.remove('active'));
          this.classList.add('active');
          loadContent(this.dataset.tab);
        });
      });
    }

    // Demo videolarni yaratish
    function initializeDemoVideos() {
      let videos = JSON.parse(localStorage.getItem('videos')) || [];
      
      if (videos.length === 0) {
        const demoVideos = [
          {
            id: Date.now() + 1,
            title: "O'zbekiston manzaralari 4K",
            description: "O'zbekistonning eng go'zal manzaralari to'plami. Tabiatning ajoyib go'zalligi",
            keywords: ["o'zbekiston", "manzara", "tabiat", "4k", "travel"],
            status: "uploaded",
            thumbnail: "https://images.unsplash.com/photo-1513326738677-b964603b136d?auto=format&fit=crop&w=1470&q=80",
            videoUrl: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
            createdAt: "2025-01-15T10:30:00Z",
            completed: true,
            views: "45,2 ming",
            timeAgo: "2 oy avval",
            likes: 1245,
            comments: 89
          },
          {
            id: Date.now() + 2,
            title: "Toshkent shahri kechasi",
            description: "Toshkent shahrining ajoyib kecha manzaralari. Yorug'lik va hayot",
            keywords: ["toshkent", "city", "night", "uzbekistan"],
            status: "uploaded",
            thumbnail: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?auto=format&fit=crop&w=1470&q=80",
            videoUrl: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",
            createdAt: "2025-01-10T14:20:00Z",
            completed: true,
            views: "102,7 ming",
            timeAgo: "1 hafta avval",
            likes: 2345,
            comments: 156
          },
          {
            id: Date.now() + 3,
            title: "Samarqand - Tarixiy me'moriy yodgorliklar",
            description: "Samarqand shahrining noyob me'moriy yodgorliklari. Registon maydoni",
            keywords: ["samarqand", "history", "architecture", "registan"],
            status: "uploading",
            thumbnail: "https://images.unsplash.com/photo-1588666309990-d68f08e3d4c6?auto=format&fit=crop&w=1470&q=80",
            videoUrl: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",
            createdAt: new Date().toISOString(),
            completed: false,
            startTime: Date.now() - 15000,
            totalTime: 60000,
            views: "0",
            timeAgo: "hozirgina",
            likes: 0,
            comments: 0
          }
        ];
        
        localStorage.setItem('videos', JSON.stringify(demoVideos));
      }
    }

    // Playlist yaratish
    window.createPlaylist = function() {
      const playlistName = prompt("Pleyli nomini kiriting:");
      if (playlistName) {
        alert(`"${playlistName}" pleyli yaratildi!`);
      }
    };

    // Profil rasmini yuklash
    window.addEventListener('load', function() {
      const cover = document.getElementById('cover');
      const avatar = document.getElementById('avatar');
      
      cover.style.backgroundImage = "linear-gradient(45deg, #1da1f2, #0c84d1)";
      avatar.style.backgroundImage = "url('https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=880&q=80')";
    });
  </script>
</body>
</html>